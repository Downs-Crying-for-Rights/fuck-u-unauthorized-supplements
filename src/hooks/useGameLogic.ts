import { useState, useCallback } from 'react';
import type { 
  GameState, 
  Evidence, 
  Channel, 
  GameEvent, 
  WorkOrder, 
  BureauReply, 
  ReplyTemplate,
  ActionResult,
  GameEndResult,
  EvidenceType,
  ChannelType,
  SchoolType,
  Region,
  SchoolLevel,
  PrincipalStyle,
  BureauStyle,
  ClassType,
  ClassName,
  ForceLevel,
  Difficulty,
  Achievement,
  AchievementType
} from '@/types/game';

// è¯æ®åº“
const EVIDENCE_LIBRARY: Record<EvidenceType, Evidence> = {
  chat: {
    id: 'chat',
    type: 'chat',
    name: 'ç­çº§ç¾¤èŠå¤©è®°å½•',
    power: 6,
    risk: 3,
    difficulty: 2,
    description: 'åŒ…å«è€å¸ˆæ˜ç¡®è¡¥è¯¾æŒ‡ä»¤',
    specialEffect: 'è¯´æœåŠ›ä¸­ï¼Œè·å–éš¾åº¦ä½ï¼Œé£é™©ä½'
  },
  receipt: {
    id: 'receipt',
    type: 'receipt',
    name: 'æ”¶è´¹æ”¶æ®/è½¬è´¦è®°å½•',
    power: 8,
    risk: 5,
    difficulty: 5,
    description: 'ç›–å­¦æ ¡å…¬ç« ä¸ºå†³å®šæ€§è¯æ®',
    specialEffect: 'è¯´æœåŠ›é«˜ï¼Œè·å–éš¾åº¦ä¸­ï¼Œé£é™©ä¸­'
  },
  photo: {
    id: 'photo',
    type: 'photo',
    name: 'ç°åœºç…§ç‰‡',
    power: 8,
    risk: 8,
    difficulty: 7,
    description: 'æ˜“æš´éœ²',
    specialEffect: 'è¯´æœåŠ›é«˜ï¼Œè·å–éš¾åº¦é«˜ï¼Œé£é™©é«˜'
  },
  recording: {
    id: 'recording',
    type: 'recording',
    name: 'å½•éŸ³',
    power: 10,
    risk: 6,
    difficulty: 7,
    description: 'éœ€åŒ…å«è€å¸ˆæ‰¿è®¤å¼ºåˆ¶æˆ–æ”¶è´¹å†…å®¹',
    specialEffect: 'è¯´æœåŠ›æé«˜ï¼Œè·å–éš¾åº¦é«˜ï¼Œé£é™©ä¸­'
  },
  petition: {
    id: 'petition',
    type: 'petition',
    name: 'åŒå­¦è”åä¿¡',
    power: 6,
    risk: 9,
    difficulty: 5,
    description: 'è‹¥æ³„éœ²æ‰€æœ‰ç­¾åè€…æš´éœ²',
    specialEffect: 'è¯´æœåŠ›ä¸­ï¼Œè·å–éš¾åº¦ä¸­ï¼Œé£é™©æé«˜'
  },
  schedule: {
    id: 'schedule',
    type: 'schedule',
    name: 'è¯¾è¡¨/ä½œæ¯è¡¨',
    power: 3,
    risk: 2,
    difficulty: 2,
    description: 'ä»…ä½œè¾…åŠ©',
    specialEffect: 'è¯´æœåŠ›ä½ï¼Œè·å–éš¾åº¦ä½ï¼Œé£é™©ä½'
  },
  parent: {
    id: 'parent',
    type: 'parent',
    name: 'å®¶é•¿è¯è¨€',
    power: 6,
    risk: 5,
    difficulty: 5,
    description: 'å®¶é•¿å¯èƒ½åæ‚”æ’¤è¯',
    specialEffect: 'è¯´æœåŠ›ä¸­ï¼Œè·å–éš¾åº¦ä¸­ï¼Œé£é™©ä¸­'
  },
  screenshot: {
    id: 'screenshot',
    type: 'screenshot',
    name: 'ç½‘ç»œæˆªå›¾',
    power: 3,
    risk: 2,
    difficulty: 1,
    description: 'æ˜“è¢«è´¨ç–‘çœŸå®æ€§',
    specialEffect: 'è¯´æœåŠ›ä½ï¼Œè·å–éš¾åº¦ä½ï¼Œé£é™©ä½'
  },
  app: {
    id: 'app',
    type: 'app',
    name: 'ç¼´è´¹APPè®°å½•',
    power: 7,
    risk: 5,
    difficulty: 3,
    description: 'æ˜¾ç¤ºæ”¶æ¬¾æ–¹ä¸ºå­¦æ ¡æˆ–å…³è”ä¼ä¸š',
    specialEffect: 'è¯´æœåŠ›ä¸­ï¼Œè·å–éš¾åº¦ä½ï¼Œé£é™©ä¸­'
  },
  illegal: {
    id: 'illegal',
    type: 'illegal',
    name: 'éæ³•æ‰‹æ®µè·å–',
    power: 10,
    risk: 10,
    difficulty: 10,
    description: 'å·æ‹æ¶‰å¯†ä¼šè®®/é»‘å®¢å…¥ä¾µ',
    specialEffect: 'ç›´æ¥åŠ 30æš´éœ²é£é™©ï¼Œå¯èƒ½è§¦å‘æ³•å¾‹é£é™©ç»“å±€'
  }
};

// ä¸¾æŠ¥æ¸ é“
const CHANNELS: Record<ChannelType, Channel> = {
  city_12345: {
    id: 'city_12345',
    name: 'å¸‚12345',
    successRate: 90,
    waitTime: 5,
    cost: 1,
    anonymous: true,
    replyDays: 15,
    effect: 'æ¥é€šç‡90%ï¼Œç­‰5åˆ†é’Ÿï¼Œè¯è´¹1å…ƒã€‚è¯´"æˆ‘è¦æ±‚åŒ¿å"åˆ™ä¸è½¬æ•™è‚²å±€ï¼Œä¸è¯´è§†ä¸ºå®å',
    description: 'è¯´"æˆ‘è¦æ±‚åŒ¿å"åˆ™ä¸è½¬æ•™è‚²å±€ï¼Œä¸è¯´è§†ä¸ºå®å'
  },
  province_12345: {
    id: 'province_12345',
    name: 'çœ12345',
    successRate: 60,
    waitTime: 15,
    cost: 1.5,
    anonymous: true,
    replyDays: 15,
    effect: 'æ¥é€šç‡60%ï¼Œç­‰15åˆ†é’Ÿï¼Œè¯è´¹1.5å…ƒï¼ŒåŠ çœçº§ç£åŠæ ‡ç­¾ï¼Œæ•™è‚²å±€å¿Œæƒ®å€¼åŠ 10',
    description: 'åŠ çœçº§ç£åŠæ ‡ç­¾ï¼Œæ•ˆæœè¾ƒå¥½'
  },
  ministry_phone: {
    id: 'ministry_phone',
    name: 'æ•™è‚²éƒ¨ä¸¾æŠ¥ç”µè¯',
    successRate: 20,
    waitTime: 30,
    cost: 3,
    anonymous: false,
    replyDays: 30,
    effect: 'æ¥é€šç‡20%ï¼Œä»…å»ºè®®ç”¨äºé‡å¤§è¿è§„ï¼Œè¯è´¹3å…ƒ',
    description: 'æ¥é€šç‡ä½ï¼Œä½†æƒå¨æ€§å¼º'
  },
  city_bureau: {
    id: 'city_bureau',
    name: 'å¸‚æ•™è‚²å±€å…¬å¼€ç”µè¯',
    successRate: 40,
    waitTime: 10,
    cost: 1,
    anonymous: false,
    replyDays: 15,
    effect: 'å¯èƒ½ç›´æ¥æ¨ç»™å­¦æ ¡å¤„ç†',
    description: 'æœ¬åœ°å¤„ç†ï¼Œä½†å¯èƒ½æŠ¤çŸ­'
  },
  province_bureau: {
    id: 'province_bureau',
    name: 'çœæ•™è‚²å…ç”µè¯',
    successRate: 25,
    waitTime: 20,
    cost: 2,
    anonymous: false,
    replyDays: 20,
    effect: 'æ•ˆæœè¾ƒå¥½ä½†æ˜“è½¬å›å±åœ°',
    description: 'ä¸Šçº§éƒ¨é—¨ï¼Œä½†å¯èƒ½è½¬å›'
  },
  web_12345: {
    id: 'web_12345',
    name: '12345å¾®ä¿¡å°ç¨‹åº',
    successRate: 100,
    waitTime: 0,
    cost: 0,
    anonymous: true,
    replyDays: 15,
    effect: 'å¯åŒ¿åï¼Œæ•ˆåŠ›ä¸­ç­‰',
    description: 'æ–¹ä¾¿å¿«æ·ï¼Œå¯åŒ¿åä¸¾æŠ¥'
  },
  bureau_website: {
    id: 'bureau_website',
    name: 'æ•™è‚²å±€å®˜ç½‘æŠ•è¯‰',
    successRate: 100,
    waitTime: 0,
    cost: 0,
    anonymous: false,
    replyDays: 15,
    effect: 'éœ€å®åï¼Œæ•ˆåŠ›é«˜ä½†ä¿¡æ¯100%æ³„éœ²',
    description: 'æ•ˆåŠ›é«˜ï¼Œä½†å¿…é¡»å®å'
  },
  leader_board: {
    id: 'leader_board',
    name: 'é¢†å¯¼ç•™è¨€æ¿',
    successRate: 70,
    waitTime: 0,
    cost: 0,
    anonymous: false,
    replyDays: 30,
    effect: 'éœ€å®åï¼Œæ•ˆåŠ›ä¸­é«˜ï¼Œå¯èƒ½ä¸è¢«å®¡æ ¸',
    description: 'å…¬å¼€é€æ˜ï¼Œä½†å®¡æ ¸ä¸¥æ ¼'
  },
  state_council: {
    id: 'state_council',
    name: 'å›½åŠ¡é™¢äº’è”ç½‘+ç£æŸ¥',
    successRate: 100,
    waitTime: 0,
    cost: 0,
    anonymous: false,
    replyDays: 30,
    effect: 'éœ€å®åï¼Œæ— æ³•æŸ¥çœ‹ç»“æœï¼Œä¸èƒ½å‘å›¾ç‰‡',
    description: 'æœ€é«˜çº§åˆ«ï¼Œä½†åé¦ˆå‘¨æœŸé•¿'
  },
  education_supervision: {
    id: 'education_supervision',
    name: 'ä¸­å›½æ•™è‚²ç£å¯¼',
    successRate: 80,
    waitTime: 0,
    cost: 0,
    anonymous: false,
    replyDays: 30,
    effect: 'åªèƒ½ä¸¾æŠ¥ä¸­å°å­¦ï¼Œä¸èƒ½å‘å›¾ç‰‡',
    description: 'ä¸“é—¨æ¸ é“ï¼Œä½†é™åˆ¶è¾ƒå¤š'
  },
  social_media: {
    id: 'social_media',
    name: 'æŠ–éŸ³/å¾®åšæ›å…‰',
    successRate: 100,
    waitTime: 0,
    cost: 0,
    anonymous: false,
    replyDays: 7,
    effect: 'ä¼ æ’­å¿«ï¼Œå¿Œæƒ®å€¼åŠ å¾—å¿«ï¼Œæš´éœ²é£é™©æé«˜',
    description: 'èˆ†è®ºç›‘ç£ï¼Œä½†é£é™©æé«˜'
  },
  onsite_petition: {
    id: 'onsite_petition',
    name: 'ç°åœºä¿¡è®¿',
    successRate: 100,
    waitTime: 60,
    cost: 5,
    anonymous: false,
    replyDays: 60,
    effect: 'å¿…é¡»å®åï¼Œ15æ—¥å—ç†å‘ŠçŸ¥ï¼Œ60æ—¥ç­”å¤ï¼Œä¿¡æ¯100%æ³„éœ²',
    description: 'æ­£å¼æ¸ é“ï¼Œä½†å‘¨æœŸé•¿ä¸”å¿…é¡»å®å'
  },
  mail_petition: {
    id: 'mail_petition',
    name: 'é‚®å¯„ä¿¡è®¿',
    successRate: 100,
    waitTime: 0,
    cost: 3,
    anonymous: false,
    replyDays: 63,
    effect: 'åŒç°åœºï¼Œä½†å¤š3å¤©é‚®å¯„æ—¶é—´',
    description: 'é‚®å¯„æ–¹å¼ï¼Œæ—¶é—´ç¨é•¿'
  },
  discipline_inspection: {
    id: 'discipline_inspection',
    name: 'çºªå§”ç›‘å§”ç°åœºä¸¾æŠ¥',
    successRate: 20,
    waitTime: 120,
    cost: 0,
    anonymous: false,
    replyDays: 90,
    effect: 'å—ç†æ¦‚ç‡20%ï¼Œä¸€æ—¦å—ç†æ•™è‚²å±€å¿Œæƒ®å€¼åŠ 40ï¼Œå­¦æ ¡å‹åŠ›å€¼åŠ 30',
    description: 'é’ˆå¯¹å…¬èŒäººå‘˜è¿çºªï¼Œä½†å—ç†ç‡ä½'
  }
};

// å¤§é‡éšæœºäº‹ä»¶
const RANDOM_EVENTS: GameEvent[] = [
  // æ”¿ç­–ç±»
  {
    id: 'policy_1',
    type: 'policy',
    title: 'æ”¿ç­–å˜åŒ–',
    description: 'çœæ•™è‚²å…çªç„¶ä¸¥æŸ¥ï¼Œä¸¾æŠ¥æˆåŠŸç‡å¤§å¹…æå‡',
    effects: { successRate: 30 },
    duration: 7
  },
  {
    id: 'policy_2',
    type: 'policy',
    title: 'å›½å®¶åŒå‡ç£å¯¼ç»„è¿›é©»',
    description: 'å›½å®¶åŒå‡ç£å¯¼ç»„è¿›é©»æœ¬çœï¼Œæ•™è‚²å±€å˜å¾—è°¨æ…',
    effects: { bureauFear: 25 },
    duration: 10
  },
  {
    id: 'policy_3',
    type: 'policy',
    title: 'æ•™è‚²éƒ¨æ–°æ”¿ç­–',
    description: 'æ•™è‚²éƒ¨å‘å¸ƒæ–°çš„åŒå‡æ”¿ç­–è§£è¯»ï¼Œæ˜ç¡®ç¦æ­¢è¡¥è¯¾',
    effects: { schoolPressure: 20, bureauFear: 15 },
    duration: 14
  },
  // å¤–éƒ¨ç±»
  {
    id: 'external_1',
    type: 'external',
    title: 'åŒè¡Œä¸¾æŠ¥',
    description: 'å…¶ä»–å®¶é•¿å­¦ç”Ÿä¹Ÿåœ¨ä¸¾æŠ¥ï¼Œå­¦æ ¡å‹åŠ›å¢å¤§',
    effects: { schoolPressure: 15, workOrders: 1 }
  },
  {
    id: 'external_2',
    type: 'external',
    title: 'è‡ªåª’ä½“æ›å…‰',
    description: 'åœ°æ–¹è‡ªåª’ä½“æ›å…‰æ­¤äº‹ï¼Œå¼•èµ·å…³æ³¨',
    effects: { bureauFear: 20, exposureRisk: 20 }
  },
  {
    id: 'external_3',
    type: 'external',
    title: 'çœçº§åª’ä½“é‡‡è®¿',
    description: 'çœçº§ä»¥ä¸Šåª’ä½“æƒ³è¦é‡‡è®¿ä½ ',
    effects: { bureauFear: 30, exposureRisk: 30 }
  },
  {
    id: 'external_4',
    type: 'external',
    title: 'é¢†å¯¼è§†å¯Ÿ',
    description: 'æ°é€¢ä¸Šçº§æ£€æŸ¥ï¼Œå­¦æ ¡ä¸´æ—¶åœæ­¢è¡¥è¯¾ï¼Œè·å¾—çª—å£æœŸè¯æ®',
    effects: { schoolPressure: 10, exposureRisk: -10 }
  },
  {
    id: 'external_5',
    type: 'external',
    title: 'ç½‘å‹çƒ­è®®',
    description: 'äº‹ä»¶åœ¨ç¤¾äº¤åª’ä½“ä¸Šå¼•å‘çƒ­è®®',
    effects: { bureauFear: 25, exposureRisk: 20 }
  },
  {
    id: 'external_6',
    type: 'external',
    title: 'å¾‹å¸ˆå…³æ³¨',
    description: 'æœ‰å¾‹å¸ˆè¡¨ç¤ºæ„¿æ„æä¾›æ³•å¾‹æ´åŠ©',
    effects: { schoolPressure: 15, bureauFear: 15 }
  },
  {
    id: 'external_7',
    type: 'external',
    title: 'äººå¤§ä»£è¡¨ä»‹å…¥',
    description: 'äººå¤§ä»£è¡¨å…³æ³¨æ­¤äº‹ï¼Œå‘æ•™è‚²å±€é—®è¯¢',
    effects: { bureauFear: 40 }
  },
  {
    id: 'external_8',
    type: 'external',
    title: 'å…¬ç›Šç»„ç»‡æ”¯æŒ',
    description: 'æ•™è‚²å…¬ç›Šç»„ç»‡è¡¨ç¤ºæ”¯æŒä½ çš„è¡ŒåŠ¨',
    effects: { schoolPressure: 10, exposureRisk: -10 }
  },
  {
    id: 'external_9',
    type: 'external',
    title: 'ä¸Šçº§éƒ¨é—¨å…³æ³¨',
    description: 'ä¸Šçº§æ•™è‚²éƒ¨é—¨å…³æ³¨åˆ°æ­¤äº‹ï¼Œè¦æ±‚å½»æŸ¥',
    effects: { schoolPressure: 25, bureauFear: 20 }
  },
  // å­¦æ ¡ç±»
  {
    id: 'school_1',
    type: 'school',
    title: 'å­¦æ ¡ååˆ¶',
    description: 'æ”¹ä¸ºçº¿ä¸Šè‡ªæ„¿ç­”ç–‘ï¼Œéœ€é‡æ–°æ”¶é›†è¯æ®',
    effects: { schoolPressure: -5 }
  },
  {
    id: 'school_2',
    type: 'school',
    title: 'å­¦æ ¡ä¸´æ—¶æ”¾å‡',
    description: 'å­¦æ ¡ä¸´æ—¶æ”¾å‡åº”å¯¹æ£€æŸ¥ï¼Œè·å¾—çª—å£æœŸæ”¶é›†è¯æ®',
    effects: { exposureRisk: -15 }
  },
  {
    id: 'school_3',
    type: 'school',
    title: 'å­¦æ ¡åŠ å¼ºé—¨ç¦',
    description: 'å­¦æ ¡åŠ å¼ºé—¨ç¦ç®¡ç†ï¼Œè·å–ç…§ç‰‡éš¾åº¦å¢åŠ ',
    effects: { exposureRisk: 10 }
  },
  {
    id: 'school_4',
    type: 'school',
    title: 'å­¦æ ¡å¬å¼€å®¶é•¿ä¼š',
    description: 'å­¦æ ¡å¬å¼€å®¶é•¿ä¼šæ–½å‹ï¼Œå®¶é•¿è¯è¨€è·å–éš¾åº¦å¢åŠ ',
    effects: {}
  },
  {
    id: 'school_5',
    type: 'school',
    title: 'å­¦æ ¡æ‰¾æ›¿ç½ªç¾Š',
    description: 'å­¦æ ¡æ‰¾åˆ°æ›¿ç½ªç¾Šç­ä¸»ä»»ï¼Œå£°ç§°æ˜¯ä¸ªäººè¡Œä¸º',
    effects: { schoolPressure: -10 }
  },
  {
    id: 'school_6',
    type: 'school',
    title: 'å­¦æ ¡å¨èƒå­¦ç”Ÿ',
    description: 'å­¦æ ¡ç§ä¸‹å¨èƒå‚ä¸ä¸¾æŠ¥çš„å­¦ç”Ÿï¼Œæš´éœ²é£é™©å¢åŠ ',
    effects: { exposureRisk: 15 }
  },
  {
    id: 'school_7',
    type: 'school',
    title: 'å­¦æ ¡ç›‘æ§å‡çº§',
    description: 'å­¦æ ¡å®‰è£…æ›´å¤šç›‘æ§ï¼Œæ”¶é›†è¯æ®éš¾åº¦å¢åŠ ',
    effects: { exposureRisk: 10 }
  },
  {
    id: 'school_8',
    type: 'school',
    title: 'å­¦æ ¡é€€è´¹å®‰æŠš',
    description: 'å­¦æ ¡é€€è¿˜éƒ¨åˆ†è´¹ç”¨å®‰æŠšå®¶é•¿ï¼Œå‹åŠ›é™ä½',
    effects: { schoolPressure: -10 }
  },
  {
    id: 'school_9',
    type: 'school',
    title: 'å­¦æ ¡å…¬å¼€é“æ­‰',
    description: 'å­¦æ ¡åœ¨å…¬ä¼—å·å…¬å¼€é“æ­‰å¹¶æ•´æ”¹',
    effects: { schoolPressure: 30 }
  },
  {
    id: 'school_10',
    type: 'school',
    title: 'å­¦æ ¡å†…éƒ¨çŸ›ç›¾',
    description: 'å­¦æ ¡é¢†å¯¼ä¹‹é—´äº§ç”ŸçŸ›ç›¾ï¼Œå¯¹è¡¥è¯¾é—®é¢˜æ„è§ä¸ä¸€',
    effects: { schoolPressure: 15 }
  },
  // ä¸ªäººç±»
  {
    id: 'personal_1',
    type: 'personal',
    title: 'æ„å¤–æš´éœ²',
    description: 'åŒå­¦å‘Šå¯†ï¼Œæš´éœ²é£é™©å¤§å¹…å¢åŠ ',
    effects: { exposureRisk: 30 }
  },
  {
    id: 'personal_2',
    type: 'personal',
    title: 'å†…éƒ¨ç“¦è§£',
    description: 'è”åå®¶é•¿è¢«åšå·¥ä½œåæ’¤è¯',
    effects: { exposureRisk: 5, schoolPressure: -5 }
  },
  {
    id: 'personal_3',
    type: 'personal',
    title: 'ç­ä¸»ä»»çº¦è°ˆ',
    description: 'ç­ä¸»ä»»æ‰¾ä½ è°ˆè¯ï¼Œæš´éœ²é£é™©å¢åŠ ',
    effects: { exposureRisk: 10 }
  },
  {
    id: 'personal_4',
    type: 'personal',
    title: 'å®¶é•¿åå¯¹',
    description: 'å®¶é•¿åå¯¹ä½ ä¸¾æŠ¥ï¼Œå®¶åº­å‹åŠ›å¢åŠ ',
    effects: { exposureRisk: 3 }
  },
  {
    id: 'personal_5',
    type: 'personal',
    title: 'é‡åˆ°å¿—åŒé“åˆè€…',
    description: 'é‡åˆ°å¿—åŒé“åˆçš„åŒå­¦ï¼Œè¯æ®è·å–éš¾åº¦é™ä½',
    effects: { exposureRisk: -15, schoolPressure: 5 }
  },
  {
    id: 'personal_6',
    type: 'personal',
    title: 'æ‰‹æœºè¢«æ²¡æ”¶',
    description: 'æ‰‹æœºè¢«æ²¡æ”¶ï¼Œå·²æ”¶é›†çš„éƒ¨åˆ†è¯æ®ä¸¢å¤±',
    effects: {}
  },
  {
    id: 'personal_7',
    type: 'personal',
    title: 'è·å¾—å®¶é•¿æ”¯æŒ',
    description: 'å®¶é•¿å†³å®šæ”¯æŒä½ ä¸¾æŠ¥ï¼Œè·å¾—å®¶é•¿è¯è¨€',
    effects: { exposureRisk: -20, schoolPressure: 10 }
  },
  {
    id: 'personal_8',
    type: 'personal',
    title: 'åŒ¿åä¿¡å¨èƒ',
    description: 'æ”¶åˆ°åŒ¿åå¨èƒä¿¡ï¼Œå¿ƒç†å‹åŠ›å¢å¤§',
    effects: { exposureRisk: 10 }
  },
  {
    id: 'personal_9',
    type: 'personal',
    title: 'æˆç»©è¢«é’ˆå¯¹',
    description: 'è€å¸ˆå¼€å§‹é’ˆå¯¹ä½ çš„æˆç»©ï¼Œå‹åŠ›å¢åŠ ',
    effects: { exposureRisk: 5 }
  },
  {
    id: 'personal_10',
    type: 'personal',
    title: 'è¢«å­¤ç«‹',
    description: 'åŒå­¦å¼€å§‹å­¤ç«‹ä½ ï¼Œå¿ƒç†å‹åŠ›å¢å¤§',
    effects: { exposureRisk: 10 }
  },
  {
    id: 'personal_11',
    type: 'personal',
    title: 'æ„å¤–å‘ç°è¯æ®',
    description: 'æ„å¤–å‘ç°å­¦æ ¡è¡¥è¯¾çš„é‡è¦è¯æ®',
    effects: { schoolPressure: 20, exposureRisk: -5 }
  },
  {
    id: 'personal_12',
    type: 'personal',
    title: 'è·å¾—å­¦æ ¡å†…éƒ¨æ¶ˆæ¯',
    description: 'è·å¾—å­¦æ ¡å†…éƒ¨äººå‘˜æä¾›çš„æ¶ˆæ¯',
    effects: { schoolPressure: 15, exposureRisk: -10 }
  },
  // å¥–åŠ±ç±»
  {
    id: 'reward_1',
    type: 'reward',
    title: 'è·å¾—é“å…·',
    description: 'æ„å¤–è·å¾—ä¸€ä¸ªæœ‰ç”¨çš„é“å…·',
    effects: { schoolPressure: 5 }
  },
  {
    id: 'reward_2',
    type: 'reward',
    title: 'ç»éªŒå€¼å¥–åŠ±',
    description: 'ä½ çš„è¡ŒåŠ¨è·å¾—äº†ç»éªŒå€¼å¥–åŠ±',
    effects: { schoolPressure: 5 }
  },
  {
    id: 'reward_3',
    type: 'reward',
    title: 'æŠ€èƒ½ç‚¹å¥–åŠ±',
    description: 'ä½ çš„è¡ŒåŠ¨è·å¾—äº†æŠ€èƒ½ç‚¹å¥–åŠ±',
    effects: { schoolPressure: 5 }
  }
];

// æ›´å¤šå›å¤æ¨¡æ¿ - æ›´åŠ å¤šæ ·åŒ–
const REPLY_TEMPLATES: Record<ReplyTemplate, Array<(_profile: GameState['schoolProfile'], _channel?: ChannelType) => string>> = {
  deny_hard: [
    () => `è¯‰æ±‚äººï¼š
æ‚¨å¥½ï¼æ‚¨åæ˜ çš„é—®é¢˜å·²æ”¶æ‚‰ã€‚ç»æˆ‘å±€ç»„ç»‡ä¸“äººå®åœ°æ ¸æŸ¥ï¼Œå¹¶è°ƒé˜…å­¦æ ¡æ•™å­¦æ—¥å¿—ã€æ•™å¸ˆè€ƒå‹¤è®°å½•åŠè´¢åŠ¡è´¦ç›®ï¼Œæœªå‘ç°è¯¥æ ¡å­˜åœ¨è¿è§„è¡¥è¯¾è¡Œä¸ºã€‚è¯¥æ ¡ä¸¥æ ¼æ‰§è¡Œã€Šæ•™è‚²éƒ¨å…³äºè¿›ä¸€æ­¥åšå¥½ä¹‰åŠ¡æ•™è‚²è¯¾åæœåŠ¡å·¥ä½œçš„é€šçŸ¥ã€‹ï¼ˆæ•™åŸºå…å‡½ã€”2021ã€•28å·ï¼‰å’Œæˆ‘çœã€Šå…³äºè§„èŒƒä¸­å°å­¦åŠå­¦è¡Œä¸ºçš„å®æ–½æ„è§ã€‹ï¼ˆXXæ•™åŸºã€”2022ã€•Xå·ï¼‰è¦æ±‚ï¼Œæ‰€å¼€å±•çš„è¯¾åæœåŠ¡å®Œå…¨éµå¾ªè‡ªæ„¿åŸåˆ™ï¼Œä¸”æœªè¶…å‡ºè§„å®šæ—¶é—´ã€‚
æ‚¨æä¾›çš„æ‰€è°“"è¡¥è¯¾è¯æ®"ï¼Œç»æ ¸å®å‡ä¸ºå­¦æ ¡æ­£å¸¸è¯¾åæœåŠ¡æ´»åŠ¨è®°å½•ã€‚æˆ‘å±€å·²è¦æ±‚å­¦æ ¡è¿›ä¸€æ­¥åŠ å¼ºå®¶æ ¡æ²Ÿé€šï¼ŒåŠæ—¶å‘å®¶é•¿å…¬å¼€è¯¾åæœåŠ¡å†…å®¹å’Œå®‰æ’ï¼Œé¿å…å› ä¿¡æ¯ä¸å¯¹ç§°é€ æˆè¯¯è§£ã€‚
æ„Ÿè°¢æ‚¨å¯¹æ•™è‚²å·¥ä½œçš„å…³æ³¨ä¸ç›‘ç£ï¼Œå¦‚ä»æœ‰ç–‘é—®ï¼Œå¯ç›´æ¥è”ç³»æˆ‘å±€åŸºæ•™ç§‘ï¼ˆç”µè¯ï¼šXXXXXXXï¼‰ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨å¥½ï¼æ‚¨é€šè¿‡12345å¹³å°åæ˜ çš„é—®é¢˜å·²æ”¶æ‚‰ã€‚æˆ‘å±€é«˜åº¦é‡è§†ï¼Œç«‹å³ç»„ç»‡ç›¸å…³ç§‘å®¤äººå‘˜ç»„æˆè°ƒæŸ¥ç»„ï¼Œå¯¹è¯¥æ ¡è¿›è¡Œäº†å…¨é¢æ£€æŸ¥ã€‚é€šè¿‡æŸ¥é˜…å­¦æ ¡è¯¾ç¨‹è¡¨ã€æ•™å¸ˆæ•™æ¡ˆã€å­¦ç”Ÿä½œæ¯æ—¶é—´å®‰æ’ç­‰èµ„æ–™ï¼Œå¹¶ä¸éƒ¨åˆ†æ•™å¸ˆã€å­¦ç”ŸåŠå®¶é•¿ä»£è¡¨è¿›è¡Œåº§è°ˆï¼Œæœªå‘ç°è¯¥æ ¡å­˜åœ¨è¿è§„è¡¥è¯¾è¡Œä¸ºã€‚
è¯¥æ ¡ä¸¥æ ¼è½å®"åŒå‡"æ”¿ç­–è¦æ±‚ï¼Œæ‰€å¼€å±•çš„è¯¾åæœåŠ¡æ´»åŠ¨å‡åœ¨è§„å®šæ—¶é—´å†…è¿›è¡Œï¼Œå†…å®¹ä»¥å­¦ç”Ÿè‡ªä¸»å­¦ä¹ ã€æ•™å¸ˆç­”ç–‘è¾…å¯¼ä¸ºä¸»ï¼Œæœªè®²æˆæ–°è¯¾ï¼Œä¹Ÿæœªæ”¶å–ä»»ä½•è´¹ç”¨ã€‚
æˆ‘å±€å°†ç»§ç»­åŠ å¼ºå¯¹å­¦æ ¡åŠå­¦è¡Œä¸ºçš„ç›‘ç®¡ï¼Œç¡®ä¿å„é¡¹æ•™è‚²æ”¿ç­–å¾—åˆ°æœ‰æ•ˆè½å®ã€‚å¦‚æ‚¨æœ‰å…·ä½“çš„é—®é¢˜çº¿ç´¢ï¼Œå¯ç›´æ¥å‘æˆ‘å±€çºªæ£€ç›‘å¯Ÿå®¤åæ˜ ï¼ˆç”µè¯ï¼šXXXXXXXï¼‰ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨åæ˜ çš„é—®é¢˜æˆ‘å±€å·²æ”¶æ‚‰ã€‚ç»è°ƒæŸ¥ï¼Œè¯¥æ ¡è¿‘æœŸç¡®å®ç»„ç»‡äº†ä¸€äº›å­¦ç”Ÿæ´»åŠ¨ï¼Œä½†å‡å±äºæ­£å¸¸çš„è¯¾åæœåŠ¡èŒƒç•´ã€‚æ ¹æ®ã€Šæ•™è‚²éƒ¨åŠå…¬å…å…³äºè¿›ä¸€æ­¥åšå¥½ä¹‰åŠ¡æ•™è‚²è¯¾åæœåŠ¡å·¥ä½œçš„é€šçŸ¥ã€‹ï¼ˆæ•™åŸºå…å‡½ã€”2021ã€•28å·ï¼‰ç²¾ç¥ï¼Œå­¦æ ¡å¯ä»¥åœ¨è¯¾åæ—¶é—´ä¸ºå­¦ç”Ÿæä¾›ä½œä¸šè¾…å¯¼ã€å…´è¶£æ‹“å±•ç­‰æœåŠ¡ã€‚
è¯¥æ ¡å¼€å±•çš„è¯¾åæœåŠ¡æ´»åŠ¨å®Œå…¨éµå¾ªè‡ªæ„¿åŸåˆ™ï¼Œå­¦ç”Ÿå’Œå®¶é•¿å¯æ ¹æ®å®é™…éœ€è¦é€‰æ‹©æ˜¯å¦å‚åŠ ã€‚æœåŠ¡å†…å®¹åŒ…æ‹¬ä½œä¸šè¾…å¯¼ã€è¯¾å¤–é˜…è¯»ã€ä½“è‚²æ´»åŠ¨ç­‰ï¼Œæœªå‘ç°æœ‰è¿è§„è¡¥è¯¾è¡Œä¸ºã€‚
æˆ‘å±€å·²è¦æ±‚è¯¥æ ¡è¿›ä¸€æ­¥è§„èŒƒè¯¾åæœåŠ¡ç®¡ç†ï¼ŒåŠ å¼ºä¸å®¶é•¿çš„æ²Ÿé€šäº¤æµï¼Œç¡®ä¿æœåŠ¡è´¨é‡å’Œå­¦ç”Ÿå®‰å…¨ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`
  ],
  
  disguise: [
    () => `è¯‰æ±‚äººï¼š
æ‚¨çš„ç•™è¨€æ”¶æ‚‰ï¼Œæ„Ÿè°¢æ‚¨å¯¹å­¦æ ¡æ•™è‚²æ•™å­¦å·¥ä½œçš„å…³å¿ƒã€‚æ ¹æ®ã€Šå…³äºè¿›ä¸€æ­¥å‡è½»ä¹‰åŠ¡æ•™è‚²é˜¶æ®µå­¦ç”Ÿä½œä¸šè´Ÿæ‹…å’Œæ ¡å¤–åŸ¹è®­è´Ÿæ‹…çš„æ„è§ã€‹ï¼ˆä¸­åŠå‘ã€”2021ã€•40å·ï¼‰å’Œæˆ‘çœã€Šä¸­å°å­¦è¯¾åæœåŠ¡å®æ–½åŠæ³•ã€‹ï¼ˆXXæ•™åŸºã€”2021ã€•Xå·ï¼‰ç²¾ç¥ï¼Œç»æˆ‘å±€æ ¸æŸ¥ï¼Œè¯¥æ ¡è¿‘æœŸå¼€å±•çš„æ˜¯"å‘¨æœ«å­¦ä¸šæ‰˜ç®¡æœåŠ¡"ï¼Œæ—¨åœ¨æ»¡è¶³éƒ¨åˆ†å­¦ç”ŸåŠå®¶é•¿çš„åˆç†éœ€æ±‚ï¼Œå®Œå…¨éµå¾ªè‡ªæ„¿å‚åŠ åŸåˆ™ï¼Œå¹¶éæ‚¨æ‰€åæ˜ çš„"è¿è§„è¡¥è¯¾"ã€‚
ç»æŸ¥é˜…å®¶é•¿ç­¾å­—çš„ã€Šè‡ªæ„¿å‚åŠ ç”³è¯·è¡¨ã€‹å’Œå­¦æ ¡æœåŠ¡æ–¹æ¡ˆï¼Œè¯¥é¡¹æœåŠ¡ä¸»è¦å†…å®¹ä¸ºå­¦ç”Ÿè‡ªä¸»å­¦ä¹ ã€æ•™å¸ˆç­”ç–‘è¾…å¯¼ï¼Œä¸è®²æˆæ–°è¯¾ï¼Œæ”¶è´¹æ ‡å‡†ä¸¥æ ¼æŒ‰ç…§å¸‚å‘æ”¹å§”ã€å¸‚æ•™è‚²å±€ã€Šå…³äºä¸­å°å­¦è¯¾åæœåŠ¡æ”¶è´¹æ ‡å‡†çš„é€šçŸ¥ã€‹ï¼ˆXXå‘æ”¹ä»·ã€”2022ã€•Xå·ï¼‰æ‰§è¡Œï¼Œå¹¶å·²å‘æˆ‘å±€å¤‡æ¡ˆã€‚
æˆ‘å±€å·²è¦æ±‚å­¦æ ¡è¿›ä¸€æ­¥ä¼˜åŒ–æœåŠ¡å†…å®¹ï¼Œä¸°å¯Œæ´»åŠ¨å½¢å¼ï¼Œç¡®ä¿æœåŠ¡è´¨é‡ï¼ŒåŒæ—¶åšå¥½æ”¿ç­–å®£ä¼ å’Œå®¶é•¿æ²Ÿé€šå·¥ä½œï¼Œè®©è¯¾åæœåŠ¡çœŸæ­£æˆä¸ºæƒ æ°‘å·¥ç¨‹ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨å¥½ï¼æ‚¨åæ˜ çš„é—®é¢˜å·²æ”¶æ‚‰ã€‚ç»è°ƒæŸ¥ï¼Œè¯¥æ ¡å¼€å±•çš„æ˜¯"å‡æœŸæ‰˜ç®¡æœåŠ¡"ï¼Œè¿™æ˜¯æ ¹æ®ã€Šæ•™è‚²éƒ¨åŠå…¬å…å…³äºåšå¥½2023å¹´ä¸­å°å­¦æš‘æœŸæœ‰å…³å·¥ä½œçš„é€šçŸ¥ã€‹ï¼ˆæ•™åŸºå…å‡½ã€”2023ã€•11å·ï¼‰è¦æ±‚ï¼Œä¸ºè§£å†³éƒ¨åˆ†å®¶åº­å­¦ç”Ÿæš‘æœŸçœ‹ç®¡å›°éš¾é—®é¢˜è€Œæä¾›çš„å…¬ç›ŠæœåŠ¡ã€‚
è¯¥æœåŠ¡å®Œå…¨éµå¾ªè‡ªæ„¿åŸåˆ™ï¼Œå®¶é•¿å¯æ ¹æ®å®é™…éœ€è¦ä¸ºå­©å­æŠ¥åå‚åŠ ã€‚æœåŠ¡å†…å®¹åŒ…æ‹¬è¯¾ä¸šè¾…å¯¼ã€å…´è¶£æ´»åŠ¨ã€ä½“è‚²é”»ç‚¼ç­‰ï¼Œä¸ç»„ç»‡å­¦ç§‘ç±»åŸ¹è®­ï¼Œä¹Ÿä¸æ”¶å–ä»»ä½•è´¹ç”¨ã€‚
æˆ‘å±€å·²è¦æ±‚è¯¥æ ¡ä¸¥æ ¼æŒ‰ç…§ç›¸å…³è§„å®šå¼€å±•æ‰˜ç®¡æœåŠ¡ï¼Œç¡®ä¿æœåŠ¡å®‰å…¨ã€è§„èŒƒã€æœ‰åºï¼Œåˆ‡å®ä¸ºå®¶é•¿è§£å†³åé¡¾ä¹‹å¿§ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨é€šè¿‡çœé•¿ä¿¡ç®±åæ˜ çš„é—®é¢˜æˆ‘å±€å·²æ”¶æ‚‰ã€‚ç»æ ¸æŸ¥ï¼Œè¯¥æ ¡å¼€å±•çš„æ˜¯"ç ”å­¦å®è·µæ´»åŠ¨"ï¼Œè¿™æ˜¯æ ¹æ®ã€Šæ•™è‚²éƒ¨ç­‰11éƒ¨é—¨å…³äºæ¨è¿›ä¸­å°å­¦ç”Ÿç ”å­¦æ—…è¡Œçš„æ„è§ã€‹ï¼ˆæ•™åŸºä¸€ã€”2016ã€•8å·ï¼‰è¦æ±‚ï¼Œä¸ºä¿ƒè¿›å­¦ç”Ÿå…¨é¢å‘å±•è€Œç»„ç»‡çš„å®è·µæ•™è‚²æ´»åŠ¨ã€‚
è¯¥æ´»åŠ¨æ˜¯å­¦æ ¡æ•™è‚²æ•™å­¦çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå†…å®¹åŒ…æ‹¬å‚è§‚è€ƒå¯Ÿã€åŠ¨æ‰‹å®è·µã€æ–‡åŒ–ä½“éªŒç­‰ï¼Œä¸æ‚¨åæ˜ çš„"è¡¥è¯¾"æ€§è´¨å®Œå…¨ä¸åŒã€‚æ´»åŠ¨éµå¾ªè‡ªæ„¿åŸåˆ™ï¼Œå®¶é•¿å¯æ ¹æ®å­¦ç”Ÿå…´è¶£å’Œå®¶åº­æƒ…å†µè‡ªä¸»é€‰æ‹©ã€‚
æˆ‘å±€å°†ç»§ç»­æ”¯æŒå­¦æ ¡å¼€å±•ä¸°å¯Œå¤šå½©çš„å®è·µæ•™è‚²æ´»åŠ¨ï¼Œä¸ºå­¦ç”Ÿå¥åº·æˆé•¿åˆ›é€ è‰¯å¥½æ¡ä»¶ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`
  ],
  
  vague: [
    () => `è¯‰æ±‚äººï¼š
æ‚¨å¥½ï¼æ‚¨é€šè¿‡12345å¹³å°åæ˜ çš„é—®é¢˜å·²è½¬æˆ‘å±€åŠç†ã€‚ç»è°ƒæŸ¥ï¼Œè¯¥æ ¡è¿‘æœŸç¡®å®æœ‰éƒ¨åˆ†å­¦ç”Ÿåœ¨å‘¨æœ«åˆ°æ ¡ï¼Œä½†ä¸»è¦æ˜¯å­¦æ ¡å¼€æ”¾å›¾ä¹¦é¦†ã€å®éªŒå®¤ç­‰å…¬å…±å­¦ä¹ åœºæ‰€ï¼Œæ–¹ä¾¿å­¦ç”Ÿè‡ªä¸»å­¦ä¹ ï¼Œæ•™å¸ˆä»…æä¾›å¿…è¦çš„å€¼ç­ç­”ç–‘ï¼Œæœªç»„ç»‡ç»Ÿä¸€æˆè¯¾æˆ–æ”¶è´¹æ´»åŠ¨ã€‚
å…³äºæ‚¨åæ˜ çš„æ”¶è´¹é—®é¢˜ï¼Œç»æ ¸æŸ¥å­¦æ ¡è´¢åŠ¡è´¦ç›®ï¼Œæœªå‘ç°å‘å­¦ç”Ÿæ”¶å–è¡¥è¯¾è´¹ç”¨çš„è®°å½•ã€‚å­¦æ ¡è¡¨ç¤ºï¼Œä¸ªåˆ«å®¶é•¿è‡ªå‘ç»„ç»‡çš„å­¦ä¹ æ´»åŠ¨ä¸å­¦æ ¡æ— å…³ã€‚
æˆ‘å±€å·²çº¦è°ˆå­¦æ ¡è´Ÿè´£äººï¼Œè¦æ±‚å…¶è¿›ä¸€æ­¥è§„èŒƒåŠå­¦è¡Œä¸ºï¼Œä¸¥æ ¼è½å®"åŒå‡"æ”¿ç­–è¦æ±‚ï¼ŒåŠ å¼ºæ ¡å›­ç®¡ç†ï¼Œé¿å…å¼•å‘ä¸å¿…è¦çš„è¯¯è§£ã€‚
å¦‚æ‚¨æœ‰å…·ä½“çš„æ”¶è´¹å‡­è¯æˆ–å…¶ä»–è¯æ®ææ–™ï¼Œå¯ç›´æ¥æä¾›ç»™æˆ‘å±€çºªæ£€ç»„ï¼ˆç”µè¯ï¼šXXXXXXXï¼‰ï¼Œæˆ‘ä»¬å°†è¿›ä¸€æ­¥è°ƒæŸ¥æ ¸å®ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨åæ˜ çš„é—®é¢˜æˆ‘å±€å·²æ”¶æ‚‰ã€‚ç»äº†è§£ï¼Œè¯¥æ ¡ç¡®å®å…è®¸éƒ¨åˆ†å­¦ç”Ÿåœ¨è¯¾ä½™æ—¶é—´åˆ°æ ¡è‡ªä¹ ï¼Œè¿™æ˜¯ä¸ºäº†æ»¡è¶³å­¦ç”Ÿçš„å­¦ä¹ éœ€æ±‚ï¼Œç‰¹åˆ«æ˜¯ä¸´è¿‘è€ƒè¯•æœŸé—´ï¼Œä¸€äº›å­¦ç”Ÿå¸Œæœ›åˆ©ç”¨å­¦æ ¡èµ„æºè¿›è¡Œå¤ä¹ ã€‚
å­¦æ ¡å®‰æ’äº†æ•™å¸ˆå€¼ç­ï¼Œä¸»è¦è´Ÿè´£ç»´æŒç§©åºå’Œè§£ç­”å­¦ç”Ÿç–‘é—®ï¼Œå¹¶æœªç»„ç»‡é›†ä½“æ•™å­¦æ´»åŠ¨ã€‚å¯¹äºæ‚¨åæ˜ çš„æ”¶è´¹é—®é¢˜ï¼Œç»æ ¸æŸ¥ï¼Œå­¦æ ¡æœªå‘å­¦ç”Ÿæ”¶å–ä»»ä½•ç›¸å…³è´¹ç”¨ã€‚
æˆ‘å±€å·²è¦æ±‚è¯¥æ ¡åŠ å¼ºå¯¹è‡ªä¹ æ´»åŠ¨çš„ç®¡ç†ï¼Œç¡®ä¿æ´»åŠ¨è§„èŒƒæœ‰åºï¼ŒåŒæ—¶åšå¥½ä¸å®¶é•¿çš„æ²Ÿé€šè§£é‡Šå·¥ä½œï¼Œé¿å…äº§ç”Ÿè¯¯è§£ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨å¥½ï¼é’ˆå¯¹æ‚¨åæ˜ çš„é—®é¢˜ï¼Œæˆ‘å±€è¿›è¡Œäº†è°ƒæŸ¥ã€‚è¯¥æ ¡è¡¨ç¤ºï¼Œä¸ºäº†æ–¹ä¾¿å­¦ç”Ÿè¿›è¡Œå°ç»„å­¦ä¹ å’Œé¡¹ç›®ç ”ç©¶ï¼Œå­¦æ ¡åœ¨å‘¨æœ«å¯¹éƒ¨åˆ†åŠŸèƒ½å®¤è¿›è¡Œäº†å¼€æ”¾ï¼Œå­¦ç”Ÿå¯ä»¥è‡ªæ„¿ç”³è¯·ä½¿ç”¨ã€‚
å­¦æ ¡å¼ºè°ƒï¼Œè¿™äº›å¼€æ”¾æ´»åŠ¨å¹¶éè¡¥è¯¾ï¼Œè€Œæ˜¯ä¸ºå­¦ç”Ÿæä¾›å­¦ä¹ ç©ºé—´å’Œèµ„æºæ”¯æŒã€‚æ•™å¸ˆåœ¨å¼€æ”¾æœŸé—´ä¼šæä¾›å¿…è¦çš„æŒ‡å¯¼ï¼Œä½†ä¸ä¼šè¿›è¡Œç³»ç»Ÿçš„è¯¾ç¨‹æ•™å­¦ã€‚
æˆ‘å±€å°†ç»§ç»­å…³æ³¨è¯¥æ ¡çš„åŠå­¦è¡Œä¸ºï¼Œç¡®ä¿å„é¡¹æ•™è‚²æ•™å­¦æ´»åŠ¨ç¬¦åˆæ”¿ç­–è¦æ±‚ã€‚å¦‚æœ‰å…·ä½“é—®é¢˜ï¼Œæ¬¢è¿æ‚¨ä¸æˆ‘å±€æ•™è‚²ç£å¯¼å®¤è”ç³»ï¼ˆç”µè¯ï¼šXXXXXXXï¼‰ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`
  ],
  
  emotional: [
    () => `è¯‰æ±‚äººï¼š
æ‚¨åœ¨ç¤¾äº¤åª’ä½“åæ˜ çš„æƒ…å†µæˆ‘å±€å·²å…³æ³¨ã€‚æ•™è‚²æ˜¯ä¸€é¡¹éœ€è¦ç¤¾ä¼šå„ç•Œç†è§£æ”¯æŒçš„äº‹ä¸šï¼Œæ•™å¸ˆçš„è¾›å‹¤ä»˜å‡ºåº”å½“å¾—åˆ°å°Šé‡ã€‚ç»äº†è§£ï¼Œè¯¥æ ¡æ•™å¸ˆåˆ©ç”¨ä¼‘æ¯æ—¶é—´ä¸ºå­¦ç”Ÿæä¾›å­¦ä¸šè¾…å¯¼ï¼Œå®Œå…¨æ˜¯å‡ºäºå¯¹å­¦ç”Ÿæˆé•¿çš„å…³å¿ƒï¼Œä½“ç°äº†æ•™å¸ˆçš„èŒä¸šè´£ä»»æ„Ÿå’Œæ•¬ä¸šç²¾ç¥ã€‚
å½“å‰æ•™è‚²ç«äº‰æ¿€çƒˆï¼Œè®¸å¤šå®¶é•¿éƒ½å¸Œæœ›å­©å­èƒ½å¤Ÿå¾—åˆ°æ›´å¤šçš„å­¦ä¹ æ”¯æŒã€‚è¯¥æ ¡åº”å®¶é•¿å§”å‘˜ä¼šçš„è¯·æ±‚ï¼Œåœ¨å……åˆ†å°Šé‡å­¦ç”Ÿæ„æ„¿çš„åŸºç¡€ä¸Šï¼Œä¸ºæœ‰éœ€è¦çš„å­¦ç”Ÿæä¾›äº†å­¦ä¸šè¾…å¯¼æœåŠ¡ï¼Œè¿™æ—¢æ˜¯å¯¹å®¶é•¿åˆç†éœ€æ±‚çš„å›åº”ï¼Œä¹Ÿæ˜¯å¯¹å­¦ç”Ÿæˆé•¿çš„å…³çˆ±ã€‚
æˆ‘å±€å·²è¦æ±‚å­¦æ ¡åœ¨å¼€å±•ç›¸å…³æ´»åŠ¨æ—¶ï¼Œä¸¥æ ¼éµå¾ªè‡ªæ„¿åŸåˆ™ï¼Œåšå¥½ä¸å®¶é•¿çš„æ²Ÿé€šè§£é‡Šå·¥ä½œï¼Œç¡®ä¿æ´»åŠ¨è§„èŒƒæœ‰åºã€‚åŒæ—¶ï¼Œä¹Ÿå¸Œæœ›æ‚¨èƒ½å¤Ÿç†è§£å­¦æ ¡å’Œæ•™å¸ˆçš„è‰¯è‹¦ç”¨å¿ƒï¼Œå…±åŒè¥é€ è‰¯å¥½çš„æ•™è‚²ç¯å¢ƒã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨å¥½ï¼çœ‹åˆ°æ‚¨åœ¨ç½‘ç»œä¸Šçš„ç•™è¨€ï¼Œæˆ‘å±€éå¸¸é‡è§†ã€‚æ•™è‚²å·¥ä½œéœ€è¦å­¦æ ¡ã€å®¶åº­å’Œç¤¾ä¼šçš„å…±åŒåŠªåŠ›ï¼Œæ•™å¸ˆä½œä¸ºæ•™è‚²å·¥ä½œè€…ï¼Œå§‹ç»ˆæŠŠå­¦ç”Ÿçš„æˆé•¿æ”¾åœ¨é¦–ä½ã€‚
ç»äº†è§£ï¼Œè¯¥æ ¡æ•™å¸ˆåˆ©ç”¨ä¸šä½™æ—¶é—´ä¸ºå­¦ç”Ÿæä¾›å­¦ä¸šæŒ‡å¯¼ï¼Œä¸»è¦æ˜¯é’ˆå¯¹å­¦ä¹ æœ‰å›°éš¾çš„å­¦ç”Ÿè¿›è¡Œä¸ªæ€§åŒ–è¾…å¯¼ï¼Œå¸®åŠ©ä»–ä»¬è·Ÿä¸Šæ•™å­¦è¿›åº¦ã€‚è¿™äº›æ´»åŠ¨éƒ½æ˜¯æ•™å¸ˆè‡ªæ„¿å¼€å±•çš„ï¼Œä½“ç°äº†æ•™å¸ˆçš„èŒä¸šæ‹…å½“å’Œå¯¹å­¦ç”Ÿçš„å…³çˆ±ã€‚
æˆ‘å±€å·²ä¸å­¦æ ¡æ²Ÿé€šï¼Œè¦æ±‚åœ¨å¼€å±•æ­¤ç±»æ´»åŠ¨æ—¶ï¼Œè¦å……åˆ†å°Šé‡å­¦ç”Ÿå’Œå®¶é•¿çš„æ„æ„¿ï¼Œä¸å¾—å¼ºåˆ¶è¦æ±‚å­¦ç”Ÿå‚åŠ ï¼ŒåŒæ—¶è¦æ³¨æ„åˆç†å®‰æ’æ—¶é—´ï¼Œç¡®ä¿æ•™å¸ˆçš„ä¼‘æ¯æƒç›Šã€‚
å¸Œæœ›æ‚¨èƒ½ç†è§£æ•™å¸ˆçš„è¾›å‹¤ä»˜å‡ºï¼Œå…±åŒä¸ºå­¦ç”Ÿçš„å¥åº·æˆé•¿åˆ›é€ è‰¯å¥½çš„æ°›å›´ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨åæ˜ çš„æƒ…å†µæˆ‘å±€å·²æ”¶æ‚‰ã€‚æˆ‘ä»¬ç†è§£æ‚¨å¯¹æ•™è‚²é—®é¢˜çš„å…³æ³¨ï¼Œä¹Ÿæ„Ÿè°¢æ‚¨å¯¹å­¦æ ¡å·¥ä½œçš„ç›‘ç£ã€‚
æ•™è‚²æ˜¯ä¸€ä¸ªå¤æ‚çš„ç³»ç»Ÿå·¥ç¨‹ï¼Œéœ€è¦å…¼é¡¾å­¦ç”Ÿçš„å­¦ä¹ éœ€æ±‚ã€å®¶é•¿çš„æœŸæœ›å’Œæ•™å¸ˆçš„å·¥ä½œå®é™…ã€‚è¯¥æ ¡æ•™å¸ˆåˆ©ç”¨ä¼‘æ¯æ—¶é—´ä¸ºå­¦ç”Ÿæä¾›è¾…å¯¼ï¼Œå‡ºå‘ç‚¹æ˜¯å¸Œæœ›å¸®åŠ©å­¦ç”Ÿæ›´å¥½åœ°æŒæ¡çŸ¥è¯†ï¼Œæé«˜å­¦ä¹ æˆç»©ã€‚
æˆ‘å±€å·²è¦æ±‚å­¦æ ¡åœ¨å¼€å±•ç›¸å…³æ´»åŠ¨æ—¶ï¼Œè¦ä¸¥æ ¼éµå¾ªæ•™è‚²è§„å¾‹å’Œæ”¿ç­–è¦æ±‚ï¼Œå……åˆ†å°Šé‡å­¦ç”Ÿçš„æ„æ„¿ï¼Œåˆç†å®‰æ’æ´»åŠ¨å†…å®¹å’Œæ—¶é—´ï¼Œç¡®ä¿æ´»åŠ¨çš„å…¬ç›Šæ€§å’Œè§„èŒƒæ€§ã€‚
æˆ‘ä»¬å°†ç»§ç»­åŠ å¼ºå¯¹å­¦æ ¡åŠå­¦è¡Œä¸ºçš„æŒ‡å¯¼å’Œç›‘ç®¡ï¼ŒåŠªåŠ›åŠäººæ°‘æ»¡æ„çš„æ•™è‚²ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`
  ],
  
  delay: [
    () => `è¯‰æ±‚äººï¼š
æ‚¨äºXæœˆXæ—¥åæ˜ çš„é—®é¢˜å·²æ”¶æ‚‰ã€‚æ ¹æ®ã€Šä¿¡è®¿å·¥ä½œæ¡ä¾‹ã€‹ç¬¬ä¸‰åå››æ¡è§„å®šï¼Œå› æ‚¨åæ˜ çš„é—®é¢˜æƒ…å†µå¤æ‚ï¼Œæ¶‰åŠå¤šä¸ªç­çº§å’Œæ—¶é—´æ®µï¼Œéœ€è¦è¿›ä¸€æ­¥è°ƒæŸ¥æ ¸å®ï¼Œç»æˆ‘å±€è´Ÿè´£äººæ‰¹å‡†ï¼Œç°å°†åŠç†æœŸé™å»¶é•¿30æ—¥ï¼Œé¢„è®¡äºXæœˆXæ—¥å‰åŠç»“å¹¶ç­”å¤æ‚¨ã€‚
ä¸ºåŠ å¿«åŠç†è¿›åº¦ï¼Œæˆ‘å±€å·²æˆç«‹ä¸“é¡¹è°ƒæŸ¥ç»„ï¼Œå°†äºè¿‘æœŸèµ´å­¦æ ¡å¼€å±•å®åœ°è°ƒæŸ¥ã€‚è¯·æ‚¨ä¿æŒé€šè®¯ç•…é€šï¼Œé…åˆæä¾›ç›¸å…³è¯æ®ææ–™å’Œå…·ä½“ä¿¡æ¯ã€‚
æ„Ÿè°¢æ‚¨å¯¹æ•™è‚²å·¥ä½œçš„ç†è§£ä¸æ”¯æŒã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨å¥½ï¼æ‚¨é€šè¿‡å›½åŠ¡é™¢"äº’è”ç½‘+ç£æŸ¥"å¹³å°åæ˜ çš„é—®é¢˜å·²æ”¶æ‚‰ã€‚ç”±äºæ‚¨åæ˜ çš„é—®é¢˜æ¶‰åŠå¤šä¸ªæ–¹é¢ï¼Œéœ€è¦æˆ‘å±€å¤šä¸ªç§‘å®¤ååŒè°ƒæŸ¥ï¼Œä¸”éƒ¨åˆ†æƒ…å†µéœ€è¦ä¸å­¦æ ¡ã€æ•™å¸ˆã€å­¦ç”ŸåŠå®¶é•¿è¿›è¡Œæ ¸å®ï¼ŒåŠç†æ—¶é—´ç›¸å¯¹è¾ƒé•¿ã€‚
æˆ‘å±€å·²å°†è¯¥é—®é¢˜åˆ—ä¸ºé‡ç‚¹ç£åŠäº‹é¡¹ï¼Œæ˜ç¡®äº†åŠç†è´£ä»»äººå’Œæ—¶é—´èŠ‚ç‚¹ï¼Œæ­£åœ¨æŠ“ç´§æ¨è¿›è°ƒæŸ¥å·¥ä½œã€‚æˆ‘ä»¬å°†ä»¥é«˜åº¦è´Ÿè´£çš„æ€åº¦ï¼Œè®¤çœŸæ ¸å®ç›¸å…³æƒ…å†µï¼Œä¾æ³•ä¾è§„è¿›è¡Œå¤„ç†ï¼Œå¹¶åŠæ—¶å‘æ‚¨åé¦ˆåŠç†ç»“æœã€‚
è¯·æ‚¨è€å¿ƒç­‰å¾…ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯æ‹¨æ‰“æˆ‘å±€åŠå…¬å®¤ç”µè¯ï¼ˆXXXXXXXï¼‰å’¨è¯¢åŠç†è¿›åº¦ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨åæ˜ çš„é—®é¢˜æˆ‘å±€å·²æ”¶æ‚‰ã€‚ç»åˆæ­¥äº†è§£ï¼Œæ‚¨åæ˜ çš„æƒ…å†µè¾ƒä¸ºå¤æ‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ·±å…¥è°ƒæŸ¥ã€‚ä¸ºç¡®ä¿è°ƒæŸ¥ç»“æœçš„çœŸå®æ€§å’Œå‡†ç¡®æ€§ï¼Œæˆ‘å±€éœ€è¦å¯¹ç›¸å…³è¯æ®ææ–™è¿›è¡Œæ ¸å®ï¼Œä¸æ¶‰åŠçš„å„æ–¹è¿›è¡Œæ²Ÿé€šäº†è§£ã€‚
ç›®å‰ï¼Œæˆ‘å±€å·²å¯åŠ¨è°ƒæŸ¥ç¨‹åºï¼Œæ­£åœ¨ç»„ç»‡äººå‘˜å¯¹è¯¥æ ¡çš„åŠå­¦è¡Œä¸ºè¿›è¡Œå…¨é¢æ£€æŸ¥ã€‚æˆ‘ä»¬å°†ä¸¥æ ¼æŒ‰ç…§ç›¸å…³è§„å®šï¼Œåœ¨æ³•å®šæœŸé™å†…å®Œæˆè°ƒæŸ¥å·¥ä½œï¼Œå¹¶å°†è°ƒæŸ¥ç»“æœå’Œå¤„ç†æ„è§åŠæ—¶å‘ŠçŸ¥æ‚¨ã€‚
æ„Ÿè°¢æ‚¨å¯¹æ•™è‚²å·¥ä½œçš„å…³æ³¨å’Œæ”¯æŒï¼Œæˆ‘ä»¬å°†ä»¥äº‹å®ä¸ºä¾æ®ï¼Œä¾æ³•ä¾è§„å¤„ç†æ‚¨åæ˜ çš„é—®é¢˜ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`
  ],
  
  compromise: [
    () => `è¯‰æ±‚äººï¼š
æ‚¨å¥½ï¼æ‚¨é€šè¿‡å›½åŠ¡é™¢"äº’è”ç½‘+ç£æŸ¥"å¹³å°åæ˜ çš„é—®é¢˜æ”¶æ‚‰ã€‚ç»æˆ‘å±€ä¸¥è‚ƒè®¤çœŸè°ƒæŸ¥ï¼Œç°ç­”å¤å¦‚ä¸‹ï¼š
ç»æ ¸æŸ¥ï¼Œè¯¥æ ¡éƒ¨åˆ†å¹´çº§ç¡®å®å­˜åœ¨åˆ©ç”¨å‘¨æœ«ç»„ç»‡å­¦ç”Ÿè¿›è¡Œå­¦ä¸šè¾…å¯¼çš„æƒ…å†µï¼Œè™½æœªæ”¶å–è´¹ç”¨ï¼Œä½†è¿åäº†æ•™è‚²éƒ¨ã€Šå…³äºåšå¥½ä¸­å°å­¦ç”Ÿè¯¾åæœåŠ¡å·¥ä½œçš„æŒ‡å¯¼æ„è§ã€‹ï¼ˆæ•™åŸºä¸€å…ã€”2017ã€•2å·ï¼‰ä¸­å…³äº"ä¸å¾—åˆ©ç”¨è¯¾åæœåŠ¡æ—¶é—´è®²æ–°è¯¾ã€æé›†ä½“è¡¥è¯¾"çš„è§„å®šã€‚
å¯¹æ­¤ï¼Œæˆ‘å±€å·²è´£ä»¤è¯¥æ ¡ç«‹å³åœæ­¢æ­¤ç±»æ´»åŠ¨ï¼Œå¯¹å­¦æ ¡ä¸»è¦è´Ÿè´£äººè¿›è¡Œçº¦è°ˆæé†’ï¼Œå¹¶è¦æ±‚è¯¥æ ¡æ·±åˆ»åæ€ï¼Œè¿›ä¸€æ­¥è§„èŒƒåŠå­¦è¡Œä¸ºï¼Œä¸¥æ ¼è½å®"åŒå‡"æ”¿ç­–è¦æ±‚ã€‚åŒæ—¶ï¼Œæˆ‘å±€å·²åœ¨å…¨å¸‚èŒƒå›´å†…å¼€å±•ä¸“é¡¹æ£€æŸ¥ï¼Œé˜²æ­¢ç±»ä¼¼é—®é¢˜å†æ¬¡å‘ç”Ÿã€‚
æ„Ÿè°¢æ‚¨å¯¹æ•™è‚²å·¥ä½œçš„ç›‘ç£ï¼Œæˆ‘ä»¬å°†æŒç»­åŠ å¼ºå¯¹å­¦æ ¡åŠå­¦è¡Œä¸ºçš„ç›‘ç®¡ï¼ŒåŠªåŠ›è¥é€ é£æ¸…æ°”æ­£çš„æ•™è‚²ç¯å¢ƒã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨å¥½ï¼æ‚¨åæ˜ çš„é—®é¢˜æˆ‘å±€å·²æ”¶æ‚‰ã€‚ç»è°ƒæŸ¥æ ¸å®ï¼Œè¯¥æ ¡ç¡®å®å­˜åœ¨è¶…å‡ºè§„å®šæ—¶é—´ç»„ç»‡å­¦ç”Ÿå­¦ä¹ çš„æƒ…å†µï¼Œè¿åäº†"åŒå‡"æ”¿ç­–ç›¸å…³è¦æ±‚ã€‚
æˆ‘å±€å·²å¯¹è¯¥æ ¡ä½œå‡ºå¦‚ä¸‹å¤„ç†ï¼šä¸€æ˜¯è´£ä»¤ç«‹å³åœæ­¢è¿è§„è¡Œä¸ºï¼Œä¸¥æ ¼æŒ‰ç…§è§„å®šæ—¶é—´å¼€å±•æ•™è‚²æ•™å­¦æ´»åŠ¨ï¼›äºŒæ˜¯å¯¹å­¦æ ¡æ ¡é•¿è¿›è¡Œçº¦è°ˆï¼Œè¦æ±‚å…¶åˆ‡å®å±¥è¡Œä¸»ä½“è´£ä»»ï¼ŒåŠ å¼ºå­¦æ ¡ç®¡ç†ï¼›ä¸‰æ˜¯åœ¨å…¨æ ¡èŒƒå›´å†…å¼€å±•æ•™è‚²æ•´é¡¿ï¼Œç»„ç»‡æ•™å¸ˆå­¦ä¹ ç›¸å…³æ”¿ç­–æ³•è§„ï¼Œå¢å¼ºä¾æ³•åŠå­¦æ„è¯†ã€‚
åŒæ—¶ï¼Œæˆ‘å±€å·²å°†æ­¤é—®é¢˜åœ¨å…¨å¸‚æ•™è‚²ç³»ç»Ÿè¿›è¡Œé€šæŠ¥ï¼Œè¦æ±‚å„å­¦æ ¡å¼•ä»¥ä¸ºæˆ’ï¼Œä¸¥æ ¼è½å®"åŒå‡"æ”¿ç­–ï¼Œåˆ‡å®å‡è½»å­¦ç”Ÿè¯¾ä¸šè´Ÿæ‹…ã€‚
æ„Ÿè°¢æ‚¨å¯¹æ•™è‚²å·¥ä½œçš„ç›‘ç£å’Œæ”¯æŒï¼Œæˆ‘ä»¬å°†ç»§ç»­åŠ å¼ºå¯¹å­¦æ ¡åŠå­¦è¡Œä¸ºçš„ç›‘ç®¡ï¼Œç¡®ä¿å„é¡¹æ•™è‚²æ”¿ç­–å¾—åˆ°æœ‰æ•ˆè½å®ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨é€šè¿‡12345å¹³å°åæ˜ çš„é—®é¢˜å·²æ”¶æ‚‰ã€‚ç»æˆ‘å±€è°ƒæŸ¥ï¼Œè¯¥æ ¡åœ¨è¯¾åæœåŠ¡å·¥ä½œä¸­å­˜åœ¨ä¸€äº›ä¸è§„èŒƒè¡Œä¸ºï¼Œä¸»è¦æ˜¯æœåŠ¡å†…å®¹è¶…å‡ºäº†è§„å®šèŒƒå›´ï¼ŒåŒ…å«äº†éƒ¨åˆ†å­¦ç§‘ç±»æ•™å­¦æ´»åŠ¨ã€‚
é’ˆå¯¹å‘ç°çš„é—®é¢˜ï¼Œæˆ‘å±€å·²é‡‡å–ä»¥ä¸‹æªæ–½ï¼šä¸€æ˜¯è´£ä»¤è¯¥æ ¡ç«‹å³æ•´æ”¹ï¼Œè§„èŒƒè¯¾åæœåŠ¡å†…å®¹å’Œå½¢å¼ï¼›äºŒæ˜¯æ‰£å‡è¯¥æ ¡å¹´åº¦ç»©æ•ˆè€ƒæ ¸åˆ†æ•°ï¼›ä¸‰æ˜¯ç»„ç»‡ç›¸å…³äººå‘˜å¯¹è¯¥æ ¡è¿›è¡Œè·Ÿè¸ªæ£€æŸ¥ï¼Œç¡®ä¿æ•´æ”¹è½å®åˆ°ä½ã€‚
æˆ‘å±€å°†ä»¥æ­¤ä¸ºå¥‘æœºï¼ŒåŠ å¼ºå¯¹å…¨å¸‚å­¦æ ¡è¯¾åæœåŠ¡å·¥ä½œçš„æŒ‡å¯¼å’Œç›‘ç®¡ï¼Œç¡®ä¿è¯¾åæœåŠ¡çœŸæ­£æˆä¸ºæƒ æ°‘å·¥ç¨‹ï¼Œä¸ºå­¦ç”Ÿå¥åº·æˆé•¿åˆ›é€ è‰¯å¥½æ¡ä»¶ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`
  ],
  
  deflect: [
    () => `è¯‰æ±‚äººï¼š
æ‚¨çš„è¯‰æ±‚æ”¶æ‚‰ã€‚ç»è°ƒæŸ¥ï¼Œæ‚¨åæ˜ çš„"å‘¨æœ«è¡¥è¯¾"å¹¶éå­¦æ ¡ç»Ÿä¸€ç»„ç»‡çš„æ•™å­¦æ´»åŠ¨ï¼Œè€Œæ˜¯ç”±å®¶é•¿å§”å‘˜ä¼šè‡ªå‘å€¡è®®ã€éƒ¨åˆ†å®¶é•¿è‡ªæ„¿å‚ä¸çš„å­¦ä¹ äº’åŠ©æ´»åŠ¨ï¼Œå­¦æ ¡ä»…åº”å®¶é•¿è¯·æ±‚æä¾›äº†åœºåœ°æ”¯æŒï¼Œæœªå‚ä¸æ´»åŠ¨ç»„ç»‡å’Œç®¡ç†ã€‚
æ ¹æ®ã€Šä¸­åäººæ°‘å…±å’Œå›½å®¶åº­æ•™è‚²ä¿ƒè¿›æ³•ã€‹ç›¸å…³è§„å®šï¼Œå®¶é•¿å¯¹æœªæˆå¹´äººæœ‰æ•™è‚²çš„æƒåˆ©å’Œä¹‰åŠ¡ï¼Œå®¶é•¿å§”å‘˜ä¼šç»„ç»‡çš„å­¦ä¹ æ´»åŠ¨å±äºå®¶åº­æ•™è‚²èŒƒç•´ï¼Œå­¦æ ¡æä¾›å¿…è¦çš„åœºåœ°æ”¯æŒå¹¶ä¸è¿åç›¸å…³è§„å®šã€‚
å…³äºæ‚¨åæ˜ çš„æ”¶è´¹é—®é¢˜ï¼Œç»æ ¸æŸ¥ï¼Œç³»å®¶é•¿å§”å‘˜ä¼šä¸ºè˜è¯·è¾…å¯¼äººå‘˜å’Œè´­ä¹°å­¦ä¹ èµ„æ–™è€Œæ”¶å–çš„è´¹ç”¨ï¼Œå­¦æ ¡æœªå‚ä¸æ”¶è´¹å’Œèµ„é‡‘ç®¡ç†ã€‚æˆ‘å±€å·²è¦æ±‚å®¶é•¿å§”å‘˜ä¼šè§„èŒƒæ”¶æ”¯è¡Œä¸ºï¼ŒåŠæ—¶å‘å‚ä¸å®¶é•¿å…¬å¼€è´¹ç”¨ä½¿ç”¨æƒ…å†µã€‚
å¦‚éœ€è¿›ä¸€æ­¥äº†è§£æƒ…å†µï¼Œå¯ä¸è¯¥æ ¡å®¶é•¿å§”å‘˜ä¼šç›´æ¥è”ç³»ï¼ˆè”ç³»äººï¼šXXXï¼Œç”µè¯ï¼šXXXXXXXXXXXï¼‰ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨å¥½ï¼æ‚¨åæ˜ çš„é—®é¢˜æˆ‘å±€å·²æ”¶æ‚‰ã€‚ç»è°ƒæŸ¥ï¼Œè¯¥æ ¡å¹¶æœªç»„ç»‡æ‚¨æ‰€åæ˜ çš„"è¡¥è¯¾"æ´»åŠ¨ã€‚å®é™…æƒ…å†µæ˜¯ï¼Œéƒ¨åˆ†å®¶é•¿ä¸ºäº†å­©å­çš„å­¦ä¹ è¿›æ­¥ï¼Œè‡ªå‘ç»„ç»‡äº†ä¸€äº›å­¦ä¹ äº’åŠ©å°ç»„ï¼Œåˆ©ç”¨å­¦æ ¡çš„ç©ºé—²åœºåœ°è¿›è¡Œæ´»åŠ¨ã€‚
å­¦æ ¡è€ƒè™‘åˆ°å®¶é•¿çš„å®é™…éœ€æ±‚ï¼Œåœ¨ä¸å½±å“æ­£å¸¸æ•™è‚²æ•™å­¦ç§©åºçš„å‰æä¸‹ï¼Œä¸ºè¿™äº›æ´»åŠ¨æä¾›äº†åœºåœ°æ”¯æŒï¼Œä½†å¹¶æœªå‚ä¸æ´»åŠ¨çš„ç»„ç»‡å’Œç®¡ç†ï¼Œä¹Ÿæœªæ”¶å–ä»»ä½•è´¹ç”¨ã€‚
æˆ‘å±€å·²è¦æ±‚å­¦æ ¡è¿›ä¸€æ­¥è§„èŒƒåœºåœ°ä½¿ç”¨ç®¡ç†ï¼Œæ˜ç¡®å‘ŠçŸ¥å®¶é•¿ç›¸å…³æ´»åŠ¨çš„æ€§è´¨å’Œè¦æ±‚ï¼Œé¿å…äº§ç”Ÿè¯¯è§£ã€‚åŒæ—¶ï¼Œä¹Ÿå¸Œæœ›å®¶é•¿åœ¨ç»„ç»‡æ­¤ç±»æ´»åŠ¨æ—¶ï¼Œè¦å……åˆ†è€ƒè™‘å­¦ç”Ÿçš„èº«å¿ƒå¥åº·ï¼Œåˆç†å®‰æ’æ´»åŠ¨æ—¶é—´å’Œå†…å®¹ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨é€šè¿‡çœé•¿ä¿¡ç®±åæ˜ çš„é—®é¢˜æˆ‘å±€å·²æ”¶æ‚‰ã€‚ç»è°ƒæŸ¥ï¼Œæ‚¨åæ˜ çš„æƒ…å†µä¸äº‹å®æœ‰æ‰€å‡ºå…¥ã€‚è¯¥æ ¡è¿‘æœŸå¹¶æœªç»„ç»‡é›†ä½“è¡¥è¯¾æ´»åŠ¨ï¼Œè€Œæ˜¯åº”éƒ¨åˆ†å®¶é•¿çš„è¯·æ±‚ï¼Œä¸ºå­¦ç”Ÿæä¾›äº†ä¸€äº›ä¸ªæ€§åŒ–çš„å­¦ä¹ æ”¯æŒã€‚
å…·ä½“æƒ…å†µæ˜¯ï¼šä¸€äº›å­¦ç”Ÿå®¶é•¿å¸Œæœ›å­©å­åœ¨è¯¾ä½™æ—¶é—´èƒ½å¤Ÿå¾—åˆ°æ•™å¸ˆçš„å­¦ä¹ æŒ‡å¯¼ï¼Œç‰¹åˆ«æ˜¯å¯¹å­¦ä¹ æœ‰å›°éš¾çš„å­¦ç”Ÿè¿›è¡Œé’ˆå¯¹æ€§è¾…å¯¼ã€‚å­¦æ ¡åœ¨å……åˆ†å°Šé‡æ•™å¸ˆæ„æ„¿çš„åŸºç¡€ä¸Šï¼Œå®‰æ’äº†éƒ¨åˆ†æ•™å¸ˆåœ¨è¯¾ä½™æ—¶é—´ä¸ºæœ‰éœ€è¦çš„å­¦ç”Ÿæä¾›å¸®åŠ©ã€‚
è¿™äº›æ´»åŠ¨éƒ½æ˜¯è‡ªæ„¿å‚åŠ çš„ï¼Œå­¦æ ¡å¹¶æœªå¼ºåˆ¶è¦æ±‚å­¦ç”Ÿå‚ä¸ï¼Œä¹Ÿæœªæ”¶å–ä»»ä½•è´¹ç”¨ã€‚æˆ‘å±€å·²è¦æ±‚å­¦æ ¡åœ¨å¼€å±•æ­¤ç±»æ´»åŠ¨æ—¶ï¼Œè¦æ›´åŠ æ³¨é‡ä¸å®¶é•¿çš„æ²Ÿé€šï¼ŒåŠæ—¶å‘å®¶é•¿è¯´æ˜æ´»åŠ¨çš„æ€§è´¨å’Œç›®çš„ï¼Œé¿å…äº§ç”Ÿè¯¯è§£ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`
  ],
  
  ä¿¡è®¿_acceptance: [
    () => `ä¿¡è®¿å—ç†å‘ŠçŸ¥ä¹¦
XXä¿¡è®¿ã€”202Xã€•Xå·
è¯‰æ±‚äººï¼š
æ‚¨äºXæœˆXæ—¥é€šè¿‡ä¿¡è®¿æ¸ é“åæ˜ çš„å…³äº"XXå­¦æ ¡è¿è§„è¡¥è¯¾"çš„é—®é¢˜ï¼Œæˆ‘å±€å·²æ”¶æ‚‰ã€‚æ ¹æ®ã€Šä¿¡è®¿å·¥ä½œæ¡ä¾‹ã€‹ç¬¬ä¸‰åä¸€æ¡è§„å®šï¼Œç»å®¡æŸ¥ï¼Œè¯¥ä¿¡è®¿äº‹é¡¹ç¬¦åˆå—ç†æ¡ä»¶ï¼Œæˆ‘å±€å†³å®šäºˆä»¥å—ç†ï¼Œå°†äºå—ç†ä¹‹æ—¥èµ·60æ—¥å†…åŠç»“å¹¶ä¹¦é¢ç­”å¤æ‚¨ã€‚
åŠç†æœŸé—´ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥è¯¢åŠç†è¿›åº¦ï¼š
1. ç™»å½•XXå¸‚ä¿¡è®¿å±€å®˜æ–¹ç½‘ç«™ï¼ˆwww.XXä¿¡è®¿.gov.cnï¼‰
2. æ‹¨æ‰“æˆ‘å±€ä¿¡è®¿å·¥ä½œç”µè¯ï¼šXXXXXXX

è¯·æ‚¨ä¿æŒé€šè®¯ç•…é€šï¼Œé…åˆæä¾›å¿…è¦çš„è¡¥å……ææ–™ã€‚

XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `ä¿¡è®¿å—ç†å‘ŠçŸ¥ä¹¦
XXä¿¡è®¿ã€”202Xã€•Xå·
è¯‰æ±‚äººï¼š
æ‚¨åæ˜ çš„å…³äº"XXå­¦æ ¡è¿è§„è¡¥è¯¾"çš„é—®é¢˜å·²æ”¶æ‚‰ã€‚æ ¹æ®ã€Šä¿¡è®¿å·¥ä½œæ¡ä¾‹ã€‹ç›¸å…³è§„å®šï¼Œç»å®¡æ ¸ï¼Œè¯¥äº‹é¡¹å±äºæˆ‘å±€èŒæƒèŒƒå›´ï¼Œä¸”ç¬¦åˆå—ç†æ¡ä»¶ï¼Œç°å†³å®šäºˆä»¥å—ç†ã€‚
æˆ‘å±€å°†æŒ‰ç…§æ³•å®šç¨‹åºå¯¹æ‚¨åæ˜ çš„é—®é¢˜è¿›è¡Œè°ƒæŸ¥æ ¸å®ï¼Œå¹¶åœ¨60æ—¥å†…åŠç»“å¹¶ä¹¦é¢ç­”å¤æ‚¨ã€‚å¦‚éœ€å»¶é•¿åŠç†æœŸé™ï¼Œæˆ‘ä»¬å°†æŒ‰è§„å®šå‘ŠçŸ¥æ‚¨ã€‚
ä¸ºä¾¿äºè°ƒæŸ¥å¤„ç†ï¼Œè¯·æ‚¨ä¿æŒé€šè®¯ç•…é€šï¼Œå¦‚æœ‰æ–°çš„è¯æ®ææ–™ï¼Œå¯éšæ—¶å‘æˆ‘å±€ä¿¡è®¿åŠæä¾›ã€‚
è”ç³»ç”µè¯ï¼šXXXXXXX
é€šè®¯åœ°å€ï¼šXXå¸‚XXè·¯XXå·æ•™è‚²å±€ä¿¡è®¿åŠ

XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`
  ],
  
  phone_feedback: [
    () => `ã€ç”µè¯åé¦ˆã€‘æ‚¨äºXæœˆXæ—¥é€šè¿‡12345å¹³å°åæ˜ çš„é—®é¢˜ï¼Œæˆ‘å±€å·¥ä½œäººå‘˜å·²äºXæœˆXæ—¥é€šè¿‡ç”µè¯ä¸æ‚¨è”ç³»ï¼Œå‘ŠçŸ¥æ‚¨ï¼šç»åˆæ­¥æ ¸æŸ¥ï¼Œè¯¥æ ¡å¼€å±•çš„æ˜¯è¯¾åæœåŠ¡æ´»åŠ¨ï¼Œå¹¶éè¿è§„è¡¥è¯¾ï¼Œå»ºè®®æ‚¨æä¾›å…·ä½“è¯æ®ææ–™ä»¥ä¾¿è¿›ä¸€æ­¥è°ƒæŸ¥ã€‚`,
    () => `ã€ç”µè¯åé¦ˆã€‘æ‚¨å¥½ï¼å…³äºæ‚¨åæ˜ çš„"XXå­¦æ ¡è¿è§„è¡¥è¯¾"é—®é¢˜ï¼Œæˆ‘å±€å·¥ä½œäººå‘˜å·²äºXæœˆXæ—¥ä¸æ‚¨ç”µè¯è”ç³»ï¼Œå‘æ‚¨è¯´æ˜äº†åˆæ­¥è°ƒæŸ¥æƒ…å†µï¼šè¯¥æ ¡ç›®å‰å¼€å±•çš„æ˜¯æ­£å¸¸çš„è¯¾åæœåŠ¡æ´»åŠ¨ï¼Œæœªå‘ç°è¿è§„è¡¥è¯¾è¡Œä¸ºã€‚å¦‚æ‚¨æœ‰å…·ä½“çš„è¯æ®ææ–™ï¼Œå¯é€šè¿‡é‚®å¯„æˆ–ç›´æ¥é€è¾¾çš„æ–¹å¼æä¾›ç»™æˆ‘å±€ï¼Œæˆ‘ä»¬å°†è¿›ä¸€æ­¥è°ƒæŸ¥æ ¸å®ã€‚`,
    () => `ã€ç”µè¯åé¦ˆã€‘æ‚¨åæ˜ çš„é—®é¢˜æˆ‘å±€å·²æ”¶æ‚‰ã€‚å·¥ä½œäººå‘˜å·²äºXæœˆXæ—¥é€šè¿‡ç”µè¯ä¸æ‚¨æ²Ÿé€šï¼Œå‘ŠçŸ¥æ‚¨ï¼šç»æ ¸æŸ¥ï¼Œè¯¥æ ¡ä¸¥æ ¼è½å®"åŒå‡"æ”¿ç­–è¦æ±‚ï¼Œæœªå‘ç°è¿è§„è¡¥è¯¾è¡Œä¸ºã€‚å­¦æ ¡å¼€å±•çš„è¯¾åæœåŠ¡æ´»åŠ¨å‡åœ¨è§„å®šæ—¶é—´å†…è¿›è¡Œï¼Œå†…å®¹ç¬¦åˆç›¸å…³è¦æ±‚ã€‚æ„Ÿè°¢æ‚¨å¯¹æ•™è‚²å·¥ä½œçš„å…³æ³¨å’Œæ”¯æŒã€‚`
  ],
  
  web_12345: [
    () => `è¯‰æ±‚äººï¼š
æ‚¨é€šè¿‡12345å¾®ä¿¡å°ç¨‹åºåæ˜ çš„é—®é¢˜å·²æ”¶æ‚‰ã€‚ç»æˆ‘å±€æ ¸æŸ¥ï¼Œè¯¥æ ¡ä¸¥æ ¼æ‰§è¡Œ"åŒå‡"æ”¿ç­–è¦æ±‚ï¼Œæœªå‘ç°è¿è§„è¡¥è¯¾è¡Œä¸ºã€‚è¯¥æ ¡è¿‘æœŸå¼€å±•çš„æ˜¯"è¯¾åå»¶æ—¶æœåŠ¡"ï¼Œå®Œå…¨éµå¾ªè‡ªæ„¿åŸåˆ™ï¼ŒæœåŠ¡å†…å®¹ä¸ºå­¦ç”Ÿè‡ªä¸»å­¦ä¹ å’Œæ•™å¸ˆç­”ç–‘è¾…å¯¼ï¼Œæ”¶è´¹æ ‡å‡†ç¬¦åˆç›¸å…³è§„å®šã€‚
å¦‚æ‚¨ä»æœ‰ç–‘é—®ï¼Œå¯ç›´æ¥è”ç³»å­¦æ ¡åŠå…¬å®¤ï¼ˆç”µè¯ï¼šXXXXXXXï¼‰æˆ–æˆ‘å±€åŸºæ•™ç§‘ï¼ˆç”µè¯ï¼šXXXXXXXï¼‰ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨å¥½ï¼æ‚¨é€šè¿‡12345å¹³å°åæ˜ çš„é—®é¢˜æˆ‘å±€å·²æ”¶æ‚‰ã€‚ç»è°ƒæŸ¥ï¼Œè¯¥æ ¡å¼€å±•çš„è¯¾åæœåŠ¡æ´»åŠ¨ç¬¦åˆ"åŒå‡"æ”¿ç­–è¦æ±‚ï¼ŒæœåŠ¡æ—¶é—´ã€å†…å®¹å’Œå½¢å¼å‡åœ¨è§„å®šèŒƒå›´å†…ã€‚
è¯¥æ ¡è¯¾åæœåŠ¡ä»¥å­¦ç”Ÿè‡ªä¸»å­¦ä¹ ã€æ•™å¸ˆç­”ç–‘è¾…å¯¼ä¸ºä¸»ï¼Œæœªç»„ç»‡å­¦ç§‘ç±»åŸ¹è®­ï¼Œä¹Ÿæœªæ”¶å–é¢å¤–è´¹ç”¨ã€‚æœåŠ¡æ´»åŠ¨éµå¾ªè‡ªæ„¿åŸåˆ™ï¼Œå­¦ç”Ÿå’Œå®¶é•¿å¯æ ¹æ®å®é™…éœ€è¦é€‰æ‹©æ˜¯å¦å‚åŠ ã€‚
æˆ‘å±€å°†ç»§ç»­åŠ å¼ºå¯¹å­¦æ ¡è¯¾åæœåŠ¡å·¥ä½œçš„æŒ‡å¯¼å’Œç›‘ç®¡ï¼Œç¡®ä¿æœåŠ¡è´¨é‡å’Œè§„èŒƒè¿è¡Œã€‚å¦‚æœ‰å…¶ä»–é—®é¢˜ï¼Œæ¬¢è¿æ‚¨éšæ—¶å‘æˆ‘ä»¬åæ˜ ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`,
    () => `è¯‰æ±‚äººï¼š
æ‚¨åæ˜ çš„é—®é¢˜å·²æ”¶æ‚‰ã€‚ç»æˆ‘å±€æ ¸æŸ¥ï¼Œè¯¥æ ¡è¿‘æœŸæœªå‘ç°è¿è§„è¡¥è¯¾è¡Œä¸ºã€‚è¯¥æ ¡ä¸¥æ ¼æŒ‰ç…§"åŒå‡"æ”¿ç­–è¦æ±‚ï¼Œè§„èŒƒå¼€å±•æ•™è‚²æ•™å­¦æ´»åŠ¨ï¼Œè¯¾åæœåŠ¡å†…å®¹ä»¥å…´è¶£æ‹“å±•ã€ä½“è‚²é”»ç‚¼ã€ä½œä¸šè¾…å¯¼ä¸ºä¸»ï¼Œæœªè¶…å‡ºè§„å®šèŒƒå›´ã€‚
æˆ‘å±€å·²è¦æ±‚è¯¥æ ¡è¿›ä¸€æ­¥åŠ å¼ºè¯¾åæœåŠ¡ç®¡ç†ï¼Œä¸°å¯ŒæœåŠ¡å†…å®¹ï¼Œæé«˜æœåŠ¡è´¨é‡ï¼Œåˆ‡å®æ»¡è¶³å­¦ç”Ÿå’Œå®¶é•¿çš„åˆç†éœ€æ±‚ã€‚
æ„Ÿè°¢æ‚¨å¯¹æ•™è‚²å·¥ä½œçš„ç›‘ç£å’Œæ”¯æŒï¼Œæˆ‘ä»¬å°†ç»§ç»­åŠªåŠ›åŠäººæ°‘æ»¡æ„çš„æ•™è‚²ã€‚
XXå¸‚æ•™è‚²å±€
202Xå¹´XæœˆXæ—¥`
  ]
};

// æˆå°±åº“
const ACHIEVEMENTS: Record<AchievementType, Omit<Achievement, 'unlocked'>> = {
  first_victory: {
    id: 'first_victory',
    name: 'åˆéœ²é”‹èŠ’',
    description: 'è·å¾—ç¬¬ä¸€æ¬¡æ¸¸æˆèƒœåˆ©',
    icon: 'ğŸ†',
    rarity: 'common'
  },
  perfect_victory: {
    id: 'perfect_victory',
    name: 'å®Œç¾èƒœåˆ©',
    description: 'åœ¨ç®€å•æ¨¡å¼ä¸‹1æ¬¡ä¸¾æŠ¥å³æˆåŠŸ',
    icon: 'âœ¨',
    rarity: 'uncommon'
  },
  persistent_fighter: {
    id: 'persistent_fighter',
    name: 'åšæŒä¸æ‡ˆ',
    description: 'åœ¨ä¸­ç­‰æ¨¡å¼ä¸‹3æ¬¡ä¸¾æŠ¥æˆåŠŸ',
    icon: 'âš¡',
    rarity: 'rare'
  },
  hardcore_champion: {
    id: 'hardcore_champion',
    name: 'ç¡¬æ ¸å† å†›',
    description: 'åœ¨å›°éš¾æ¨¡å¼ä¸‹9æ¬¡ä¸¾æŠ¥æˆåŠŸ',
    icon: 'ğŸ‘‘',
    rarity: 'legendary'
  },
  evidence_master: {
    id: 'evidence_master',
    name: 'è¯æ®å¤§å¸ˆ',
    description: 'æ”¶é›†æ‰€æœ‰ç±»å‹çš„è¯æ®',
    icon: 'ğŸ”',
    rarity: 'epic'
  },
  channel_master: {
    id: 'channel_master',
    name: 'æ¸ é“å¤§å¸ˆ',
    description: 'ä½¿ç”¨æ‰€æœ‰ç±»å‹çš„ä¸¾æŠ¥æ¸ é“',
    icon: 'ğŸ“',
    rarity: 'epic'
  },
  low_cost_victory: {
    id: 'low_cost_victory',
    name: 'ç»æµå®æƒ ',
    description: 'èŠ±è´¹ä½äº10å…ƒè·å¾—èƒœåˆ©',
    icon: 'ğŸ’°',
    rarity: 'uncommon'
  },
  speed_run: {
    id: 'speed_run',
    name: 'é€Ÿé€šå¤§å¸ˆ',
    description: 'åœ¨10å¤©å†…è·å¾—èƒœåˆ©',
    icon: 'â±ï¸',
    rarity: 'rare'
  },
  high_risk_high_reward: {
    id: 'high_risk_high_reward',
    name: 'é«˜é£é™©é«˜å›æŠ¥',
    description: 'æš´éœ²é£é™©è¶…è¿‡80ä½†ä»è·å¾—èƒœåˆ©',
    icon: 'âš¡',
    rarity: 'epic'
  },
  social_media_star: {
    id: 'social_media_star',
    name: 'ç¤¾äº¤åª’ä½“æ˜æ˜Ÿ',
    description: 'ä½¿ç”¨ç¤¾äº¤åª’ä½“æ¸ é“3æ¬¡ä»¥ä¸Š',
    icon: 'ğŸ“±',
    rarity: 'uncommon'
  },
  discipline_inspector: {
    id: 'discipline_inspector',
    name: 'çºªå¾‹æ£€æŸ¥å®˜',
    description: 'ä½¿ç”¨çºªå§”ç›‘å§”æ¸ é“å¹¶è·å¾—èƒœåˆ©',
    icon: 'âš–ï¸',
    rarity: 'rare'
  },
  petition_expert: {
    id: 'petition_expert',
    name: 'ä¿¡è®¿ä¸“å®¶',
    description: 'ä½¿ç”¨ä¿¡è®¿æ¸ é“å¹¶è·å¾—èƒœåˆ©',
    icon: 'ğŸ“‹',
    rarity: 'uncommon'
  },
  ministry_contact: {
    id: 'ministry_contact',
    name: 'éƒ¨å§”è”ç³»äºº',
    description: 'ä½¿ç”¨æ•™è‚²éƒ¨ç”µè¯å¹¶è·å¾—èƒœåˆ©',
    icon: 'ğŸ›ï¸',
    rarity: 'rare'
  },
  state_council_reporter: {
    id: 'state_council_reporter',
    name: 'å›½åŠ¡é™¢ä¸¾æŠ¥äºº',
    description: 'ä½¿ç”¨å›½åŠ¡é™¢æ¸ é“å¹¶è·å¾—èƒœåˆ©',
    icon: 'ğŸŒŸ',
    rarity: 'legendary'
  }
};

// AIè¾…åŠ©ç³»ç»Ÿé…ç½®
const AI_ADVICE_CONFIG = {
  evidence: {
    chat: 'ç­çº§ç¾¤èŠå¤©è®°å½•æ˜¯è·å–éš¾åº¦ä½ã€é£é™©å°çš„è¯æ®ï¼Œé€‚åˆåˆæœŸæ”¶é›†',
    receipt: 'æ”¶è´¹æ”¶æ®/è½¬è´¦è®°å½•æ˜¯é«˜è¯´æœåŠ›çš„è¯æ®ï¼Œå»ºè®®ä¼˜å…ˆæ”¶é›†',
    photo: 'ç°åœºç…§ç‰‡è¯´æœåŠ›é«˜ä½†é£é™©å¤§ï¼Œå»ºè®®åœ¨æœ‰ä¿æŠ¤æªæ–½æ—¶æ”¶é›†',
    recording: 'å½•éŸ³æ˜¯æœ€é«˜è¯´æœåŠ›çš„è¯æ®ï¼Œå€¼å¾—å†’é™©æ”¶é›†',
    petition: 'åŒå­¦è”åä¿¡é£é™©æé«˜ï¼Œè°¨æ…ä½¿ç”¨',
    schedule: 'è¯¾è¡¨/ä½œæ¯è¡¨ä½œä¸ºè¾…åŠ©è¯æ®ï¼Œå¯ä¸å…¶ä»–è¯æ®é…åˆä½¿ç”¨',
    parent: 'å®¶é•¿è¯è¨€æ˜¯ä¸­ç­‰è¯´æœåŠ›çš„è¯æ®ï¼Œè·å–éš¾åº¦é€‚ä¸­',
    screenshot: 'ç½‘ç»œæˆªå›¾è¯´æœåŠ›ä½ï¼Œä½†è·å–éš¾åº¦å°ï¼Œå¯ä½œä¸ºè¡¥å……',
    app: 'ç¼´è´¹APPè®°å½•æ˜¯ä¾¿æ·çš„è¯æ®æ¥æºï¼Œå»ºè®®æ”¶é›†',
    illegal: 'éæ³•æ‰‹æ®µè·å–çš„è¯æ®é£é™©æé«˜ï¼Œå¯èƒ½å¯¼è‡´æ¸¸æˆå¤±è´¥ï¼Œä¸å»ºè®®ä½¿ç”¨'
  },
  channel: {
    city_12345: 'å¸‚12345æ˜¯åŸºç¡€ä¸¾æŠ¥æ¸ é“ï¼ŒæˆåŠŸç‡é«˜ï¼Œé€‚åˆåˆæœŸä½¿ç”¨',
    province_12345: 'çœ12345æ•ˆæœæ›´å¥½ï¼Œä½†ç­‰å¾…æ—¶é—´é•¿ï¼Œé€‚åˆä¸­æœŸä½¿ç”¨',
    ministry_phone: 'æ•™è‚²éƒ¨ä¸¾æŠ¥ç”µè¯æƒå¨æ€§é«˜ï¼Œä½†æ¥é€šç‡ä½ï¼Œé€‚åˆå…³é”®ä¸¾æŠ¥',
    city_bureau: 'å¸‚æ•™è‚²å±€å…¬å¼€ç”µè¯ç›´æ¥ä½†å¯èƒ½æŠ¤çŸ­ï¼Œè°¨æ…ä½¿ç”¨',
    province_bureau: 'çœæ•™è‚²å…ç”µè¯æ•ˆæœè¾ƒå¥½ï¼Œé€‚åˆé‡è¦ä¸¾æŠ¥',
    web_12345: '12345å¾®ä¿¡å°ç¨‹åºä¾¿æ·é«˜æ•ˆï¼Œå»ºè®®å¸¸ç”¨',
    bureau_website: 'æ•™è‚²å±€å®˜ç½‘æŠ•è¯‰æ•ˆåŠ›é«˜ä½†éœ€è¦å®åï¼Œé£é™©è¾ƒå¤§',
    leader_board: 'é¢†å¯¼ç•™è¨€æ¿å…¬å¼€é€æ˜ï¼Œä½†å®¡æ ¸ä¸¥æ ¼ï¼Œé€‚åˆæœ‰å……åˆ†è¯æ®æ—¶ä½¿ç”¨',
    state_council: 'å›½åŠ¡é™¢äº’è”ç½‘+ç£æŸ¥çº§åˆ«æœ€é«˜ï¼Œä½†åé¦ˆå‘¨æœŸé•¿ï¼Œé€‚åˆæœ€ç»ˆä¸¾æŠ¥',
    education_supervision: 'ä¸­å›½æ•™è‚²ç£å¯¼ä¸“é—¨æ¸ é“ï¼Œä½†é™åˆ¶è¾ƒå¤šï¼Œé’ˆå¯¹æ€§ä½¿ç”¨',
    social_media: 'æŠ–éŸ³/å¾®åšæ›å…‰ä¼ æ’­å¿«ä½†é£é™©æé«˜ï¼Œè°¨æ…ä½¿ç”¨',
    onsite_petition: 'ç°åœºä¿¡è®¿æ­£å¼ä½†å¿…é¡»å®åï¼Œé£é™©é«˜ï¼Œé€‚åˆæœ‰å†³å¿ƒæ—¶ä½¿ç”¨',
    mail_petition: 'é‚®å¯„ä¿¡è®¿åŒç°åœºï¼Œä½†æ—¶é—´æ›´é•¿ï¼Œå¯ä½œä¸ºè¡¥å……',
    discipline_inspection: 'çºªå§”ç›‘å§”ç°åœºä¸¾æŠ¥å—ç†ç‡ä½ä½†æ•ˆæœæå¼ºï¼Œé€‚åˆå…³é”®æ—¶æœºä½¿ç”¨'
  },
  strategy: {
    early: 'æ¸¸æˆåˆæœŸå»ºè®®ä¼˜å…ˆæ”¶é›†ä½é£é™©è¯æ®ï¼Œå»ºç«‹åŸºç¡€è¯æ®é“¾',
    mid: 'æ¸¸æˆä¸­æœŸå»ºè®®ä½¿ç”¨å¤šç§ä¸¾æŠ¥æ¸ é“ï¼Œå¢åŠ å­¦æ ¡å‹åŠ›',
    late: 'æ¸¸æˆåæœŸå»ºè®®é›†ä¸­ä½¿ç”¨é«˜æƒå¨æ€§æ¸ é“ï¼Œä¸€ä¸¾å–å¾—èƒœåˆ©',
    timing: 'åœ¨è¡¥è¯¾å¼€å§‹å‰3å¤©ä¸¾æŠ¥æ•ˆæœæœ€ä½³ï¼ŒæˆåŠŸç‡å¤§å¹…æå‡',
    evidence: 'å»ºè®®æ”¶é›†è‡³å°‘3-5ä»½ä¸åŒç±»å‹çš„è¯æ®ï¼Œå½¢æˆå®Œæ•´è¯æ®é“¾',
    channel: 'å»ºè®®ä½¿ç”¨3-5ç§ä¸åŒçš„ä¸¾æŠ¥æ¸ é“ï¼Œå½¢æˆç«‹ä½“ä¸¾æŠ¥ç½‘ç»œ',
    risk: 'æš´éœ²é£é™©æ§åˆ¶åœ¨60ä»¥ä¸‹è¾ƒä¸ºå®‰å…¨ï¼Œè¶…è¿‡80æ—¶éœ€è°¨æ…è¡ŒåŠ¨',
    pressure: 'å­¦æ ¡å‹åŠ›è¾¾åˆ°60ä»¥ä¸Šæ—¶ï¼Œæ•™è‚²å±€å¼€å§‹é‡è§†ï¼Œè¾¾åˆ°85ä»¥ä¸Šæ—¶å®¹æ˜“å–å¾—èƒœåˆ©'
  }
};

export function useGameLogic() {
  const [gameState, setGameState] = useState<GameState | null>(null);
  const [gameEnd, setGameEnd] = useState<GameEndResult | null>(null);

  // ç”Ÿæˆéšæœºå­¦æ ¡æ¡£æ¡ˆ
  const generateSchoolProfile = useCallback(() => {
    const schoolTypes: SchoolType[] = ['çœé‡ç‚¹', 'å¸‚é‡ç‚¹', 'æ™®é€š', 'æ°‘åŠ', 'åˆä¸­'];
    const regions: Region[] = ['é«˜è€ƒå¤§çœ', 'çœä¼š', 'ä¸‰å››çº¿åŸå¸‚', 'å¿åŸ'];
    const levels: SchoolLevel[] = ['è¶…çº§ä¸­å­¦', 'åæ ¡', 'æ™®é€š', 'è–„å¼±'];
    const principals: PrincipalStyle[] = ['å¼ºç¡¬', 'æ€€æŸ”', 'æŠ•æœº', 'æ€•äº‹'];
    const bureaus: BureauStyle[] = ['æŠ¤çŸ­', 'å’Œç¨€æ³¥', 'æ•·è¡', 'è°¨æ…', 'é«˜æ•ˆ'];

    return {
      type: schoolTypes[Math.floor(Math.random() * schoolTypes.length)],
      region: regions[Math.floor(Math.random() * regions.length)],
      level: levels[Math.floor(Math.random() * levels.length)],
      principal: principals[Math.floor(Math.random() * principals.length)],
      bureau: bureaus[Math.floor(Math.random() * bureaus.length)]
    };
  }, []);

  // ç”Ÿæˆè¡¥è¯¾è¯¦æƒ…
  const generateClassDetail = useCallback(() => {
    const forms: ClassType[] = ['æ ¡å†…é›†ä¸­', 'æ ¡å¤–ç§Ÿå€Ÿåœºåœ°', 'çº¿ä¸Šç›´æ’­', 'å°ç­åˆ†æ•£', 'è‡ªæ„¿è¿”æ ¡'];
    const names: ClassName[] = ['å‘¨æœ«æ‰˜ç®¡', 'è¯¾åæœåŠ¡', 'å¤ä»¤è¥', 'ç ”å­¦', 'åŸ¹ä¼˜è¡¥å·®', 'å¼€æ”¾è‡ªä¹ å®¤'];
    const forces: ForceLevel[] = ['å¼ºåˆ¶å…¨å‘˜', 'åä¹‰è‡ªæ„¿ä½†å¨èƒ', 'ä»…å°–å­ç”Ÿ', 'å®Œå…¨è‡ªæ„¿ä½†å¤§å¤šå‚åŠ '];

    const duration = Math.floor(Math.random() * 60) + 1; // 1-60å¤©
    const startIn = Math.floor(Math.random() * 30) + 1; // 1-30å¤©å
    const fee = Math.floor(Math.random() * 2001); // 0-2000å…ƒ

    return {
      form: forms[Math.floor(Math.random() * forms.length)],
      duration,
      startIn,
      fee,
      name: names[Math.floor(Math.random() * names.length)],
      force: forces[Math.floor(Math.random() * forces.length)]
    };
  }, []);

  // åˆå§‹åŒ–æ¸¸æˆ
  const initializeGame = useCallback((difficulty: Difficulty = 'medium', enableAI: boolean = false) => {
    const profile = generateSchoolProfile();
    const classDetail = generateClassDetail();
    
    const initialState: GameState = {
      difficulty,
      enableAI,
      schoolProfile: profile,
      classDetail: classDetail,
      schoolPressure: 0,
      bureauFear: 0,
      exposureRisk: 0,
      workOrders: 0,
      day: 1,
      totalCost: 0,
      collectedEvidences: [],
      submittedWorkOrders: [],
      gameEvents: [],
      activeEffects: [],
      gamePhase: 'playing',
      isWaiting: false,
      lastActionResult: null
    };
    
    setGameState(initialState);
    setGameEnd(null);
    return initialState;
  }, [generateSchoolProfile, generateClassDetail]);

  // æ£€æŸ¥æ¸¸æˆç»“æŸæ¡ä»¶
  const checkGameEnd = useCallback((state: GameState): GameEndResult | null => {
    // åˆ†æç©å®¶è¡Œä¸º
    const analyzePlayerActions = (state: GameState) => {
      const channelUsage = state.submittedWorkOrders.reduce((acc, order) => {
        acc[order.channel] = (acc[order.channel] || 0) + 1;
        return acc;
      }, {} as Record<ChannelType, number>);
      
      const evidenceTypes = new Set(state.collectedEvidences.map(e => e.type));
      const totalEvidencePower = state.collectedEvidences.reduce((sum, e) => sum + e.power, 0);
      const mostUsedChannel = Object.entries(channelUsage).sort((a, b) => b[1] - a[1])[0]?.[0];
      const highPowerEvidenceCount = state.collectedEvidences.filter(e => e.power >= 7).length;
      
      return {
        channelUsage,
        evidenceTypes,
        totalEvidencePower,
        mostUsedChannel,
        highPowerEvidenceCount,
        totalReports: state.workOrders,
        totalCost: state.totalCost,
        gameDuration: state.day
      };
    };

    const playerActions = analyzePlayerActions(state);
    
    // æ£€æŸ¥æˆå°±è§£é”
    const checkAchievements = (state: GameState, playerActions: ReturnType<typeof analyzePlayerActions>) => {
      const achievements: Achievement[] = [];
      
      // éå†æ‰€æœ‰æˆå°±å¹¶æ£€æŸ¥æ˜¯å¦è§£é”
      Object.entries(ACHIEVEMENTS).forEach(([id, achievement]) => {
        let unlocked = false;
        
        switch (id as AchievementType) {
          case 'first_victory':
            unlocked = true; // åªè¦èƒœåˆ©å°±è§£é”
            break;
          case 'perfect_victory':
            unlocked = state.difficulty === 'easy' && state.workOrders === 1;
            break;
          case 'persistent_fighter':
            unlocked = state.difficulty === 'medium' && state.workOrders === 3;
            break;
          case 'hardcore_champion':
            unlocked = state.difficulty === 'hard' && state.workOrders === 9;
            break;
          case 'evidence_master':
            unlocked = state.collectedEvidences.length === Object.keys(EVIDENCE_LIBRARY).length;
            break;
          case 'channel_master':
            unlocked = Object.keys(playerActions.channelUsage).length === Object.keys(CHANNELS).length;
            break;
          case 'low_cost_victory':
            unlocked = state.totalCost < 10;
            break;
          case 'speed_run':
            unlocked = state.day <= 10;
            break;
          case 'high_risk_high_reward':
            unlocked = state.exposureRisk > 80;
            break;
          case 'social_media_star':
            unlocked = (playerActions.channelUsage['social_media'] || 0) >= 3;
            break;
          case 'discipline_inspector':
            unlocked = playerActions.channelUsage['discipline_inspection'] > 0;
            break;
          case 'petition_expert':
            unlocked = playerActions.channelUsage['onsite_petition'] > 0 || playerActions.channelUsage['mail_petition'] > 0;
            break;
          case 'ministry_contact':
            unlocked = playerActions.channelUsage['ministry_phone'] > 0;
            break;
          case 'state_council_reporter':
            unlocked = playerActions.channelUsage['state_council'] > 0;
            break;
        }
        
        achievements.push({
          ...achievement,
          unlocked
        });
      });
      
      // åªè¿”å›å·²è§£é”çš„æˆå°±
      return achievements.filter(a => a.unlocked);
    };
    
    // æ ¹æ®éš¾åº¦è°ƒæ•´èƒœåˆ©æ¡ä»¶
    if (state.difficulty === 'easy') {
      // ç®€å•æ¨¡å¼ï¼šä¸€ä¸¾æŠ¥å°±æˆåŠŸ
      if (state.workOrders >= 1 && state.schoolPressure >= 10) {
        const achievements = checkAchievements(state, playerActions);
        return {
          success: true,
          type: 'victory',
          day: state.day,
          totalCost: state.totalCost,
          finalSuccessRate: 100,
          summary: `åœ¨ç®€å•æ¨¡å¼ä¸‹ï¼Œä½ çš„ä¸¾æŠ¥è¿…é€Ÿäº§ç”Ÿäº†æ•ˆæœã€‚æ•™è‚²å±€åœ¨æ”¶åˆ°ä¸¾æŠ¥åç«‹å³ä»‹å…¥è°ƒæŸ¥ï¼Œå­¦æ ¡æ‰¿è®¤äº†è¿è§„è¡¥è¯¾è¡Œä¸ºå¹¶åœæ­¢äº†æ´»åŠ¨ï¼Œé€€è¿˜äº†æ‰€æœ‰è´¹ç”¨ã€‚`,
          comment: 'ç®€å•æ¨¡å¼ä¸‹ï¼Œä¸¾æŠ¥æ•ˆæœæ˜¾è‘—å¢å¼ºï¼Œæ•™è‚²å±€ç›´æ¥æ‰¿è®¤è¡¥è¯¾è¡Œä¸ºã€‚',
          achievements
        };
      }
    } else if (state.difficulty === 'medium') {
      // ä¸­ç­‰æ¨¡å¼ï¼šä¸¾æŠ¥3æ¬¡å°±æˆåŠŸ
      if (state.workOrders >= 3 && state.schoolPressure >= 40) {
        const achievements = checkAchievements(state, playerActions);
        return {
          success: true,
          type: 'victory',
          day: state.day,
          totalCost: state.totalCost,
          finalSuccessRate: 90,
          summary: `ç»è¿‡${state.day}å¤©çš„åŠªåŠ›ï¼Œä½ ç´¯è®¡æäº¤äº†${state.workOrders}æ¬¡ä¸¾æŠ¥ï¼Œå­¦æ ¡åœ¨æŒç»­çš„å‹åŠ›ä¸‹å®£å¸ƒåœæ­¢è¡¥è¯¾å¹¶é€€è¿˜è´¹ç”¨ã€‚`,
          comment: 'ä¸­ç­‰æ¨¡å¼ä¸‹ï¼Œéœ€è¦ä¸€å®šçš„ä¸¾æŠ¥æ¬¡æ•°æ‰èƒ½å–å¾—æˆåŠŸã€‚',
          achievements
        };
      }
    } else if (state.difficulty === 'hard') {
      // å›°éš¾æ¨¡å¼ï¼š9æ¬¡ä¸¾æŠ¥æˆåŠŸ
      if (state.workOrders >= 9 && state.schoolPressure >= 80) {
        const achievements = checkAchievements(state, playerActions);
        return {
          success: true,
          type: 'victory',
          day: state.day,
          totalCost: state.totalCost,
          finalSuccessRate: 85,
          summary: `åœ¨å›°éš¾æ¨¡å¼ä¸‹ï¼Œä½ ç»è¿‡${state.day}å¤©çš„è‰°è‹¦åŠªåŠ›ï¼Œç´¯è®¡æäº¤äº†${state.workOrders}æ¬¡ä¸¾æŠ¥ï¼Œæœ€ç»ˆåœ¨æœ€åä¸€æ¬¡ä¸¾æŠ¥åï¼Œæ•™è‚²å±€ä¸å¾—ä¸æ‰¿è®¤å­¦æ ¡çš„è¿è§„è¡Œä¸ºï¼Œè¿«ä½¿å­¦æ ¡åœæ­¢è¡¥è¯¾å¹¶é€€è´¹ã€‚`,
          comment: 'å›°éš¾æ¨¡å¼ä¸‹ï¼Œéœ€è¦å¤§é‡ä¸¾æŠ¥æ‰èƒ½è®©æ•™è‚²å±€æ‰¿è®¤è¡¥è¯¾è¡Œä¸ºã€‚',
          achievements
        };
      }
    }
    
    // èƒœåˆ©æ¡ä»¶1ï¼šå­¦æ ¡å®£å¸ƒåœæ­¢è¡¥è¯¾å¹¶é€€è´¹ï¼ˆå­¦æ ¡å‹åŠ›å€¼å¤§äºç­‰äº85ï¼‰
    if (state.schoolPressure >= 85) {
      let summary = '';
      let comment = '';
      
      if (playerActions.mostUsedChannel === 'discipline_inspection') {
        summary = `ç»è¿‡${state.day}å¤©çš„åšæŒï¼Œä½ é€šè¿‡çºªå§”ç›‘å§”æ¸ é“çš„ä¸¾æŠ¥æœ€ç»ˆäº§ç”Ÿäº†å†³å®šæ€§å½±å“ã€‚å­¦æ ¡è¿«äºå„æ–¹å‹åŠ›ï¼Œå®£å¸ƒç«‹å³åœæ­¢æ‰€æœ‰è¿è§„è¡¥è¯¾æ´»åŠ¨ï¼Œå¹¶å…¨é¢é€€è¿˜äº†æ”¶å–çš„è´¹ç”¨ã€‚`;
        comment = 'çºªå§”ç›‘å§”çš„ä»‹å…¥è®©å­¦æ ¡å’Œæ•™è‚²å±€éƒ½æ„Ÿå—åˆ°äº†å·¨å¤§å‹åŠ›ï¼Œæœ€ç»ˆä¸å¾—ä¸åšå‡ºè®©æ­¥ã€‚';
      } else if (playerActions.totalReports >= 20) {
        summary = `åœ¨${state.day}å¤©çš„æ—¶é—´é‡Œï¼Œä½ ç´¯è®¡æäº¤äº†${state.workOrders}æ¬¡ä¸¾æŠ¥ï¼Œæ¶‰åŠå¤šä¸ªæ¸ é“ï¼Œå½¢æˆäº†æŒç»­çš„é«˜å‹æ€åŠ¿ã€‚å­¦æ ¡æœ€ç»ˆä¸å ªé‡è´Ÿï¼Œå®£å¸ƒåœæ­¢è¡¥è¯¾å¹¶é€€è¿˜å…¨éƒ¨è´¹ç”¨ã€‚`;
        comment = 'é‡å˜å¼•èµ·è´¨å˜ï¼ŒæŒç»­çš„ä¸¾æŠ¥å‹åŠ›è®©å­¦æ ¡æ— æ³•å¿½è§†ã€‚';
      } else if (playerActions.highPowerEvidenceCount >= 3) {
        summary = `ä½ æ”¶é›†äº†å¤šä»½é«˜è¯´æœåŠ›çš„è¯æ®ï¼ŒåŒ…æ‹¬${state.collectedEvidences.filter(e => e.power >= 7).map(e => e.name).join('ã€')}ç­‰ï¼Œè¿™äº›è¯æ®å½¢æˆäº†å®Œæ•´çš„è¯æ®é“¾ã€‚å­¦æ ¡åœ¨é“è¯é¢å‰ä¸å¾—ä¸æ‰¿è®¤è¿è§„è¡Œä¸ºï¼Œå®£å¸ƒåœæ­¢è¡¥è¯¾å¹¶é€€è´¹ã€‚`;
        comment = 'é«˜è´¨é‡çš„è¯æ®æ˜¯æˆåŠŸçš„å…³é”®ï¼Œè®©å­¦æ ¡æ— æ³•ç‹¡è¾©ã€‚';
      } else {
        summary = `ç»è¿‡${state.day}å¤©çš„åŠªåŠ›ï¼Œä½ é€šè¿‡å¤šç§æ¸ é“çš„ä¸¾æŠ¥æœ€ç»ˆä¿ƒä½¿å­¦æ ¡å®£å¸ƒåœæ­¢è¡¥è¯¾å¹¶é€€è¿˜è´¹ç”¨ã€‚ä½ çš„åšæŒå’Œç­–ç•¥å–å¾—äº†æ˜¾è‘—æˆæ•ˆã€‚`;
        comment = 'ç»¼åˆè¿ç”¨å¤šç§ä¸¾æŠ¥æ¸ é“ï¼Œå½¢æˆäº†æœ‰æ•ˆçš„å‹åŠ›ä¼ å¯¼æœºåˆ¶ã€‚';
      }
      
      const achievements = checkAchievements(state, playerActions);
      return {
        success: true,
        type: 'victory',
        day: state.day,
        totalCost: state.totalCost,
        finalSuccessRate: Math.min(100, state.workOrders * 3 + state.schoolPressure),
        summary,
        comment,
        achievements
      };
    }
    
    // èƒœåˆ©æ¡ä»¶2ï¼šæ•™è‚²å±€ä¸‹å‘æ­£å¼æ–‡ä»¶ç¦æ­¢è¯¥æ ¡è¡¥è¯¾ï¼ˆå¿Œæƒ®å€¼å¤§äºç­‰äº80ä¸”å·¥å•å¤§äºç­‰äº10ï¼‰
    if (state.bureauFear >= 80 && state.workOrders >= 10) {
      let summary = '';
      let comment = '';
      
      if (playerActions.channelUsage['social_media'] && playerActions.channelUsage['social_media'] >= 3) {
        summary = `ä½ é€šè¿‡ç¤¾äº¤åª’ä½“æ¸ é“çš„å¤šæ¬¡ä¸¾æŠ¥å¼•å‘äº†å¹¿æ³›å…³æ³¨ï¼Œæ•™è‚²å±€å¿Œæƒ®èˆ†æƒ…æ‰©å¤§ï¼Œæœ€ç»ˆä¸‹å‘æ­£å¼æ–‡ä»¶ç¦æ­¢è¯¥æ ¡è¿è§„è¡¥è¯¾ã€‚è¿™åœºèˆ†è®ºæˆ˜ä½ å–å¾—äº†èƒœåˆ©ã€‚`;
        comment = 'ç¤¾äº¤åª’ä½“çš„å½±å“åŠ›è®©æ•™è‚²å±€ä¸å¾—ä¸é‡è§†å¹¶é‡‡å–è¡ŒåŠ¨ã€‚';
      } else if (playerActions.channelUsage['province_12345'] || playerActions.channelUsage['ministry_phone']) {
        summary = `ä½ é€šè¿‡çœçº§ä»¥ä¸Šæ¸ é“çš„ä¸¾æŠ¥å¼•èµ·äº†ä¸Šçº§éƒ¨é—¨çš„å…³æ³¨ï¼Œæ•™è‚²å±€åœ¨ä¸Šçº§å‹åŠ›ä¸‹ï¼Œæ­£å¼ä¸‹å‘æ–‡ä»¶ç¦æ­¢è¯¥æ ¡è¡¥è¯¾è¡Œä¸ºã€‚`;
        comment = 'å‘ä¸Šçº§éƒ¨é—¨ä¸¾æŠ¥æ˜¯æœ‰æ•ˆçš„æ–½å‹æ‰‹æ®µï¼Œè®©æ•™è‚²å±€æ— æ³•æ•·è¡äº†äº‹ã€‚';
      } else {
        summary = `æ•™è‚²å±€åœ¨ä½ æŒç»­çš„ä¸¾æŠ¥å‹åŠ›ä¸‹ï¼Œå¿Œæƒ®å€¼ä¸æ–­æ”€å‡ï¼Œæœ€ç»ˆä¸‹å‘æ­£å¼æ–‡ä»¶ç¦æ­¢è¯¥æ ¡è¿è§„è¡¥è¯¾ã€‚ä½ çš„${state.workOrders}æ¬¡ä¸¾æŠ¥èµ·åˆ°äº†å…³é”®ä½œç”¨ã€‚`;
        comment = 'æŒç»­çš„ä¸¾æŠ¥è®©æ•™è‚²å±€æ„Ÿå—åˆ°äº†å‹åŠ›ï¼Œæœ€ç»ˆä¸å¾—ä¸é‡‡å–æ­£å¼è¡ŒåŠ¨ã€‚';
      }
      
      const achievements = checkAchievements(state, playerActions);
      return {
        success: true,
        type: 'victory',
        day: state.day,
        totalCost: state.totalCost,
        finalSuccessRate: 90,
        summary,
        comment,
        achievements
      };
    }

    // èƒœåˆ©æ¡ä»¶3ï¼šçºªå§”ç›‘å§”ä»‹å…¥è°ƒæŸ¥æ ¡é•¿è¢«çº¦è°ˆ
    if (state.submittedWorkOrders.some(wo => wo.channel === 'discipline_inspection') && state.bureauFear >= 40) {
      const achievements = checkAchievements(state, playerActions);
      return {
        success: true,
        type: 'victory',
        day: state.day,
        totalCost: state.totalCost,
        finalSuccessRate: 85,
        summary: `ä½ é€šè¿‡çºªå§”ç›‘å§”æ¸ é“çš„ä¸¾æŠ¥å¼•å‘äº†æ­£å¼è°ƒæŸ¥ï¼Œæ ¡é•¿è¢«çº¦è°ˆã€‚åœ¨çºªæ£€å‹åŠ›ä¸‹ï¼Œå­¦æ ¡è¢«è¿«åœæ­¢æ‰€æœ‰è¿è§„è¡¥è¯¾æ´»åŠ¨ã€‚`,
        comment: 'çºªå§”ç›‘å§”çš„ä»‹å…¥è®©é—®é¢˜ä¸Šå‡åˆ°äº†çºªå¾‹å±‚é¢ï¼Œäº§ç”Ÿäº†å¼ºå¤§çš„å¨æ…‘åŠ›ã€‚',
        achievements
      };
    }

    // èƒœåˆ©æ¡ä»¶4ï¼šç´¯è®¡å·¥å•å¤§äºç­‰äº30ä¸”æŒç»­æ–½å‹è¶…è¿‡20å¤©
    if (state.workOrders >= 30 && state.day >= 20) {
      const achievements = checkAchievements(state, playerActions);
      return {
        success: true,
        type: 'victory',
        day: state.day,
        totalCost: state.totalCost,
        finalSuccessRate: 80,
        summary: `ç»è¿‡${state.day}å¤©çš„æŒä¹…æˆ˜ï¼Œä½ ç´¯è®¡æäº¤äº†${state.workOrders}æ¬¡ä¸¾æŠ¥ï¼Œå½¢æˆäº†æŒç»­ä¸æ–­çš„å‹åŠ›ã€‚å­¦æ ¡æœ€ç»ˆä¸å ªå…¶æ‰°ï¼Œå¦¥ååœæ­¢äº†è¡¥è¯¾è¡Œä¸ºã€‚`,
        comment: 'åšæŒå°±æ˜¯èƒœåˆ©ï¼Œä½ çš„æ¯…åŠ›å’ŒéŸ§æ€§æœ€ç»ˆæ¢æ¥äº†æˆåŠŸã€‚',
        achievements
      };
    }

    // å¤±è´¥æ¡ä»¶1ï¼šè¡¥è¯¾æ­£å¸¸å®Œæˆä¸”æœªé€€è´¹ï¼Œæ—¶é—´è¶…è¿‡è¡¥è¯¾ç»“æŸå­¦æ ¡å‹åŠ›å°äº40
    if (state.day > state.classDetail.startIn + state.classDetail.duration && state.schoolPressure < 40) {
      let summary = '';
      let comment = '';
      
      if (playerActions.totalReports < 5) {
        summary = `è¡¥è¯¾å·²ç»æ­£å¸¸å®Œæˆï¼Œä½ çš„ä¸¾æŠ¥æ¬¡æ•°è¾ƒå°‘ï¼Œæœªèƒ½å¯¹å­¦æ ¡äº§ç”Ÿè¶³å¤Ÿçš„å‹åŠ›ã€‚å­¦æ ¡é¡ºåˆ©å®Œæˆäº†æ•´ä¸ªè¡¥è¯¾è®¡åˆ’ã€‚`;
        comment = 'ä¸¾æŠ¥åŠ›åº¦ä¸è¶³ï¼Œå­¦æ ¡æ²¡æœ‰æ„Ÿå—åˆ°è¶³å¤Ÿçš„å‹åŠ›ã€‚';
      } else if (playerActions.totalEvidencePower < 15) {
        summary = `å°½ç®¡ä½ è¿›è¡Œäº†å¤šæ¬¡ä¸¾æŠ¥ï¼Œä½†æ”¶é›†çš„è¯æ®è¯´æœåŠ›ä¸è¶³ï¼Œå­¦æ ¡æˆåŠŸè¾©è§£ï¼Œè¡¥è¯¾æ­£å¸¸å®Œæˆã€‚`;
        comment = 'è¯æ®è´¨é‡æ˜¯ä¸¾æŠ¥æˆåŠŸçš„å…³é”®ï¼Œéœ€è¦æ”¶é›†æ›´æœ‰è¯´æœåŠ›çš„è¯æ®ã€‚';
      } else {
        summary = `è¡¥è¯¾å·²ç»æ­£å¸¸å®Œæˆï¼Œä½ çš„ä¸¾æŠ¥æœªèƒ½é˜»æ­¢è¡¥è¯¾è¿›è¡Œã€‚å­¦æ ¡é‡‡å–äº†å„ç§æ‰‹æ®µåº”å¯¹ï¼Œæœ€ç»ˆå®Œæˆäº†æ•´ä¸ªè¡¥è¯¾è®¡åˆ’ã€‚`;
        comment = 'å¯èƒ½éœ€è¦æ›´æœ‰é’ˆå¯¹æ€§çš„ä¸¾æŠ¥ç­–ç•¥ï¼Œæˆ–è€…é€‰æ‹©æ›´æœ‰åˆ©çš„æ—¶æœºã€‚';
      }
      
      return {
        success: false,
        type: 'failure',
        day: state.day,
        totalCost: state.totalCost,
        finalSuccessRate: 20,
        summary,
        comment
      };
    }

    // å¤±è´¥æ¡ä»¶2ï¼šç©å®¶æš´éœ²é£é™©è¾¾åˆ°100è¢«è®°è¿‡ä»¥ä¸Šå¤„åˆ†æˆ–åŠé€€
    if (state.exposureRisk >= 120) {
      let summary = '';
      let comment = '';
      
      if (playerActions.evidenceTypes.has('illegal')) {
        summary = `ä½ ä½¿ç”¨äº†éæ³•æ‰‹æ®µè·å–è¯æ®ï¼Œæš´éœ²é£é™©æ€¥å‰§ä¸Šå‡ï¼Œæœ€ç»ˆè¢«å­¦æ ¡å‘ç°å¹¶ç»™äºˆäº†è®°è¿‡å¤„åˆ†ï¼Œä¸¾æŠ¥è¡ŒåŠ¨è¢«è¿«ç»ˆæ­¢ã€‚`;
        comment = 'ä½¿ç”¨éæ³•æ‰‹æ®µè·å–è¯æ®ä¸ä»…è¿åæ³•å¾‹ï¼Œä¹Ÿä¼šå¢åŠ æš´éœ²é£é™©ï¼Œå¾—ä¸å¿å¤±ã€‚';
      } else if (playerActions.channelUsage['social_media'] && playerActions.channelUsage['social_media'] >= 3) {
        summary = `ä½ åœ¨ç¤¾äº¤åª’ä½“ä¸Šçš„å¤šæ¬¡æ›å…‰è™½ç„¶å¼•èµ·äº†å…³æ³¨ï¼Œä½†ä¹Ÿè®©ä½ çš„èº«ä»½æš´éœ²ã€‚å­¦æ ¡å¯¹ä½ è¿›è¡Œäº†å¤„åˆ†ï¼Œä¸¾æŠ¥è¡ŒåŠ¨è¢«è¿«åœæ­¢ã€‚`;
        comment = 'ç¤¾äº¤åª’ä½“æ›å…‰é£é™©è¾ƒé«˜ï¼Œéœ€è¦æ³¨æ„ä¿æŠ¤ä¸ªäººéšç§ã€‚';
      } else {
        summary = `ç”±äºæš´éœ²é£é™©è¿‡é«˜ï¼Œä½ è¢«å­¦æ ¡å‘ç°å¹¶ç»™äºˆäº†è®°è¿‡å¤„åˆ†ï¼Œä¸¾æŠ¥è¡ŒåŠ¨è¢«è¿«ç»ˆæ­¢ã€‚`;
        comment = 'åœ¨ä¸¾æŠ¥è¿‡ç¨‹ä¸­è¦æ³¨æ„ä¿æŠ¤è‡ªå·±ï¼Œé¿å…æš´éœ²èº«ä»½ã€‚';
      }
      
      return {
        success: false,
        type: 'failure',
        day: state.day,
        totalCost: state.totalCost,
        finalSuccessRate: 0,
        summary,
        comment
      };
    }

    // ä¸­é—´æ€1ï¼šæƒ¨èƒœï¼šå­¦æ ¡åœæ­¢è¡¥è¯¾ä½†ç©å®¶è¢«å¤„åˆ†æˆ–å­¤ç«‹
    if (state.schoolPressure >= 85 && state.exposureRisk >= 80) {
      return {
        success: true,
        type: 'pyrrhic',
        day: state.day,
        totalCost: state.totalCost,
        finalSuccessRate: 70,
        summary: `å­¦æ ¡æœ€ç»ˆåœæ­¢äº†è¡¥è¯¾ï¼Œä½†ä½ çš„ä¸¾æŠ¥è¡ŒåŠ¨ä¹Ÿè®©ä½ ä»˜å‡ºäº†ä»£ä»·ã€‚ç”±äºæš´éœ²é£é™©è¿‡é«˜ï¼Œä½ åœ¨å­¦æ ¡å—åˆ°äº†å­¤ç«‹å’Œå¤„åˆ†ã€‚`,
        comment: 'è™½ç„¶å–å¾—äº†èƒœåˆ©ï¼Œä½†ä¸ªäººä»˜å‡ºäº†æ²‰é‡çš„ä»£ä»·ã€‚åœ¨ä»Šåçš„ç±»ä¼¼è¡ŒåŠ¨ä¸­ï¼Œéœ€è¦æ›´åŠ æ³¨é‡è‡ªæˆ‘ä¿æŠ¤ã€‚'
      };
    }

    // ä¸­é—´æ€2ï¼šæ— æœï¼šè¡¥è¯¾åœæ­¢ä½†ä¸‹å­¦æœŸç»§ç»­æ— é€€è´¹
    if (state.schoolPressure >= 60 && state.schoolPressure < 85) {
      return {
        success: false,
        type: 'stalemate',
        day: state.day,
        totalCost: state.totalCost,
        finalSuccessRate: 50,
        summary: `åœ¨ä½ çš„ä¸¾æŠ¥å‹åŠ›ä¸‹ï¼Œå­¦æ ¡æš‚æ—¶åœæ­¢äº†å½“å‰çš„è¡¥è¯¾æ´»åŠ¨ï¼Œä½†è¡¨ç¤ºä¸‹å­¦æœŸå¯èƒ½ä¼šä»¥å…¶ä»–å½¢å¼ç»§ç»­ï¼Œä¸”æœªé€€è¿˜å·²æ”¶å–çš„è´¹ç”¨ã€‚`,
        comment: 'ä¸¾æŠ¥å–å¾—äº†éƒ¨åˆ†æˆæ•ˆï¼Œä½†æœªèƒ½å½»åº•è§£å†³é—®é¢˜ã€‚éœ€è¦æŒç»­å…³æ³¨å’Œç›‘ç£ã€‚'
      };
    }

    // ä¸­é—´æ€3ï¼šè½¬ç§»ï¼šå­¦æ ¡æ”¹ä¸ºæ›´éšè”½çš„çº¿ä¸Šè¡¥è¯¾å®è´¨æœªå˜
    if (state.schoolPressure >= 40 && state.schoolPressure < 60) {
      return {
        success: false,
        type: 'redirect',
        day: state.day,
        totalCost: state.totalCost,
        finalSuccessRate: 40,
        summary: `ä½ çš„ä¸¾æŠ¥è®©å­¦æ ¡æœ‰æ‰€æ”¶æ•›ï¼Œä»–ä»¬åœæ­¢äº†çº¿ä¸‹é›†ä¸­è¡¥è¯¾ï¼Œä½†è½¬ä¸ºæ›´åŠ éšè”½çš„çº¿ä¸Šè¡¥è¯¾å½¢å¼ï¼Œå®è´¨å¹¶æœªæ”¹å˜ã€‚`,
        comment: 'å­¦æ ¡é‡‡å–äº†å˜é€šæªæ–½ï¼Œéœ€è¦è°ƒæ•´ä¸¾æŠ¥ç­–ç•¥ï¼Œé’ˆå¯¹æ–°çš„è¡¥è¯¾å½¢å¼æ”¶é›†è¯æ®ã€‚'
      };
    }

    return null;
  }, []);

  // è·Ÿè¸ªå·²ä½¿ç”¨çš„å›å¤æ¨¡æ¿ç´¢å¼•
  const [usedReplyIndices, setUsedReplyIndices] = useState<Record<ReplyTemplate, number[]>>(() => ({
    deny_hard: [],
    disguise: [],
    vague: [],
    emotional: [],
    delay: [],
    compromise: [],
    deflect: [],
    ä¿¡è®¿_acceptance: [],
    phone_feedback: [],
    web_12345: []
  }));

  // æ™ºèƒ½ç”Ÿæˆæ•™è‚²å±€å›å¤
  const generateReply = useCallback((state: GameState, channel?: ChannelType): BureauReply => {
    let template: ReplyTemplate;
    
    const { schoolProfile, schoolPressure, bureauFear, difficulty, workOrders } = state;
    
    // ç®€å•éšæœºé€‰æ‹©æ¨¡æ¿ï¼Œç¡®ä¿å¤šæ ·æ€§
    const selectRandomTemplate = (availableTemplates: ReplyTemplate[]): ReplyTemplate => {
      return availableTemplates[Math.floor(Math.random() * availableTemplates.length)];
    };
    
    // æ ¹æ®éš¾åº¦å’Œä¸¾æŠ¥æ¬¡æ•°ç¡®å®šæ˜¯å¦æ‰¿è®¤è¡¥è¯¾
    const shouldAdmit = () => {
      if (difficulty === 'easy') {
        return true; // ç®€å•æ¨¡å¼ç›´æ¥æ‰¿è®¤
      } else if (difficulty === 'medium') {
        return workOrders >= 3; // ä¸­ç­‰æ¨¡å¼3æ¬¡åæ‰¿è®¤
      } else if (difficulty === 'hard') {
        return workOrders >= 9; // å›°éš¾æ¨¡å¼9æ¬¡åæ‰¿è®¤
      }
      return false;
    };
    
    // æ ¹æ®æ¸ é“ç±»å‹ä¼˜å…ˆé€‰æ‹©æ¨¡æ¿
    if (channel) {
      // ä¿¡è®¿æ¸ é“å…ˆå›å¤å—ç†å‘ŠçŸ¥ä¹¦
      if (channel === 'onsite_petition' || channel === 'mail_petition') {
        template = 'ä¿¡è®¿_acceptance';
      } 
      // ç”µè¯æ¸ é“ä½¿ç”¨ç”µè¯åé¦ˆæ¨¡æ¿
      else if (channel === 'city_12345' || channel === 'province_12345' || channel === 'ministry_phone' || channel === 'city_bureau' || channel === 'province_bureau') {
        // 20%æ¦‚ç‡ä½¿ç”¨ç”µè¯åé¦ˆ
        if (Math.random() < 0.2) {
          template = 'phone_feedback';
        } else {
          // æ ¹æ®éš¾åº¦å’Œä¸¾æŠ¥æ¬¡æ•°é€‰æ‹©æ¨¡æ¿
          if (shouldAdmit()) {
            template = 'compromise'; // æ‰¿è®¤è¡¥è¯¾
          } else {
            // ä¸æ‰¿è®¤è¡¥è¯¾çš„æƒ…å†µä¸‹æ ¹æ®å‹åŠ›å€¼é€‰æ‹©
            if (schoolPressure < 30 && bureauFear < 30) {
              template = selectRandomTemplate(['deny_hard']);
            } else if ((schoolPressure >= 30 && schoolPressure < 60) || (bureauFear >= 30 && bureauFear < 60)) {
              template = selectRandomTemplate(['vague']);
            } else {
              template = selectRandomTemplate(['deflect', 'delay']);
            }
          }
        }
      }
      // 12345å¾®ä¿¡å°ç¨‹åºä½¿ç”¨ä¸“é—¨æ¨¡æ¿
      else if (channel === 'web_12345') {
        template = shouldAdmit() ? 'compromise' : 'web_12345';
      }
      // ç¤¾äº¤åª’ä½“ä½¿ç”¨æƒ…æ„ŸåŒ–å›å¤
      else if (channel === 'social_media') {
        template = shouldAdmit() ? 'compromise' : 'emotional';
      }
      // å…¶ä»–æ¸ é“æ ¹æ®éš¾åº¦å’Œä¸¾æŠ¥æ¬¡æ•°é€‰æ‹©
      else {
        if (shouldAdmit()) {
          template = 'compromise'; // æ‰¿è®¤è¡¥è¯¾
        } else {
          if (schoolPressure < 30 && bureauFear < 30) {
            template = selectRandomTemplate(['deny_hard', 'disguise']);
          } else if ((schoolPressure >= 30 && schoolPressure < 60) || (bureauFear >= 30 && bureauFear < 60)) {
            template = selectRandomTemplate(['vague', 'deflect']);
          } else if ((schoolPressure >= 60 && schoolPressure < 85) || (bureauFear >= 60)) {
            template = selectRandomTemplate(['delay', 'deflect']);
          } else {
            template = 'delay';
          }
        }
      }
    } else {
      // æ— æ¸ é“æ—¶çš„é»˜è®¤é€»è¾‘
      if (shouldAdmit()) {
        template = 'compromise'; // æ‰¿è®¤è¡¥è¯¾
      } else {
        if (schoolPressure < 30 && bureauFear < 30) {
          template = selectRandomTemplate(['deny_hard']);
        } else if ((schoolPressure >= 30 && schoolPressure < 60) || (bureauFear >= 30 && bureauFear < 60)) {
          template = selectRandomTemplate(['vague']);
        } else if ((schoolPressure >= 60 && schoolPressure < 85) || (bureauFear >= 60)) {
          template = selectRandomTemplate(['delay']);
        } else {
          template = 'delay';
        }
      }
    }

    // ä»æ¨¡æ¿æ•°ç»„ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå›å¤ï¼Œç¡®ä¿ä¸é‡å¤
    const replyTemplates = REPLY_TEMPLATES[template];
    const usedIndices = usedReplyIndices[template] || [];
    
    // è¿‡æ»¤å‡ºæœªä½¿ç”¨çš„ç´¢å¼•
    const availableIndices = replyTemplates.map((_, index) => index).filter(index => !usedIndices.includes(index));
    
    let selectedIndex: number;
    if (availableIndices.length > 0) {
      // ä»å¯ç”¨ç´¢å¼•ä¸­éšæœºé€‰æ‹©
      selectedIndex = availableIndices[Math.floor(Math.random() * availableIndices.length)];
    } else {
      // æ‰€æœ‰æ¨¡æ¿éƒ½å·²ä½¿ç”¨ï¼Œé‡ç½®å¹¶éšæœºé€‰æ‹©
      selectedIndex = Math.floor(Math.random() * replyTemplates.length);
      setUsedReplyIndices(prev => ({ ...prev, [template]: [] }));
    }
    
    // æ›´æ–°å·²ä½¿ç”¨çš„ç´¢å¼•
    setUsedReplyIndices(prev => ({
      ...prev,
      [template]: [...(prev[template] || []), selectedIndex]
    }));

    // ç”Ÿæˆå›å¤å†…å®¹
    const content = replyTemplates[selectedIndex](schoolProfile, channel);

    return {
      template,
      content,
      day: state.day
    };
  }, [usedReplyIndices, setUsedReplyIndices]);

  // æ”¶é›†è¯æ®
  const collectEvidence = useCallback((evidenceType: EvidenceType): ActionResult => {
    if (!gameState) {
      return { success: false, description: 'æ¸¸æˆæœªå¼€å§‹', changes: {} };
    }

    const evidence = EVIDENCE_LIBRARY[evidenceType];
    
    if (gameState.collectedEvidences.some(e => e.id === evidenceType)) {
      return {
        success: false,
        description: `ä½ å·²ç»æ”¶é›†è¿‡${evidence.name}äº†`,
        changes: {}
      };
    }

    const newState = { ...gameState };
    newState.collectedEvidences.push(evidence);
    
    // æ¯æ¬¡ä¸»åŠ¨åŠ¨ä½œæ¨è¿›1å¤©
    newState.day += 1;
    
    let riskMultiplier = 0.7;
    if (newState.difficulty === 'easy') riskMultiplier = 0.4;
    else if (newState.difficulty === 'hard') riskMultiplier = 0.9;
    
    newState.exposureRisk = Math.min(100, newState.exposureRisk + Math.round(evidence.risk * riskMultiplier * 0.6));
    
    // éšæœºäº‹ä»¶è§¦å‘
    let newEvent: GameEvent | undefined;
    const eventProbability = newState.difficulty === 'easy' ? 0.05 : (newState.difficulty === 'hard' ? 0.15 : 0.1);
    if (Math.random() < eventProbability) {
      newEvent = RANDOM_EVENTS[Math.floor(Math.random() * RANDOM_EVENTS.length)];
      newState.gameEvents.push(newEvent);
      
      if (newEvent.effects.schoolPressure) {
        newState.schoolPressure = Math.min(100, Math.max(0, newState.schoolPressure + newEvent.effects.schoolPressure));
      }
      if (newEvent.effects.bureauFear) {
        newState.bureauFear = Math.min(100, Math.max(0, newState.bureauFear + newEvent.effects.bureauFear));
      }
      if (newEvent.effects.exposureRisk) {
        newState.exposureRisk = Math.min(100, Math.max(0, newState.exposureRisk + newEvent.effects.exposureRisk));
      }
      if (newEvent.effects.workOrders) {
        newState.workOrders += newEvent.effects.workOrders;
      }
    }
    
    // æ£€æŸ¥å¹¶å¤„ç†è¾¾åˆ°å›å¤å¤©æ•°çš„å·¥å•
    newState.submittedWorkOrders.forEach(wo => {
      if (wo.status === 'pending') {
        const channel = CHANNELS[wo.channel];
        // æ·»åŠ 1-3å¤©çš„éšæœºå»¶è¿Ÿ
        const randomDelay = Math.floor(Math.random() * 3) + 1;
        const replyDay = wo.day + channel.replyDays + randomDelay;
        
        if (newState.day >= replyDay) {
          const reply = generateReply(newState, wo.channel);
          wo.reply = reply;
          wo.status = 'replied';
          
          if (reply.template === 'compromise') {
            newState.schoolPressure = Math.min(100, newState.schoolPressure + 20);
          } else if (reply.template === 'deny_hard') {
            newState.bureauFear = Math.max(0, newState.bureauFear - 5);
          }
        }
      }
    });

    setGameState(newState);

    const endResult = checkGameEnd(newState);
    if (endResult) {
      setGameEnd(endResult);
      newState.gamePhase = 'ended';
    }

    return {
      success: true,
      description: `æˆåŠŸæ”¶é›†è¯æ®ï¼š${evidence.name}`,
      feedback: evidence.description,
      changes: {
        schoolPressure: newEvent?.effects.schoolPressure || 0,
        bureauFear: newEvent?.effects.bureauFear || 0,
        exposureRisk: Math.round(evidence.risk * riskMultiplier) + (newEvent?.effects.exposureRisk || 0)
      },
      newEvent
    };
  }, [gameState, generateReply, checkGameEnd]);

  // æäº¤ä¸¾æŠ¥
  const submitReport = useCallback((channelType: ChannelType, evidenceTypes: EvidenceType[], isAnonymous: boolean = true): ActionResult => {
    if (!gameState) {
      return { success: false, description: 'æ¸¸æˆæœªå¼€å§‹', changes: {} };
    }

    const channel = CHANNELS[channelType];
    const evidences = evidenceTypes.map(et => EVIDENCE_LIBRARY[et]);
    
    let power = evidences.reduce((sum, e) => sum + e.power, 0);
    
    // è¯æ®ç»„åˆæ•ˆæœ
    if (evidences.some(e => e.type === 'receipt') && evidences.some(e => e.type === 'recording')) {
      power = Math.floor(power * 1.5);
    }

    const newState = { ...gameState };
    
    // å›°éš¾æ¨¡å¼é‡‘é’±é™åˆ¶
    if (newState.difficulty === 'hard' && newState.totalCost + channel.cost > 50) {
      return {
        success: false,
        description: 'å›°éš¾æ¨¡å¼é™åˆ¶ï¼šæ€»èŠ±è´¹ä¸èƒ½è¶…è¿‡50å…ƒ',
        feedback: 'è¯·å°è¯•æ›´ä¾¿å®œçš„ä¸¾æŠ¥æ¸ é“',
        changes: {}
      };
    }
    
    // æ¯æ¬¡ä¸»åŠ¨åŠ¨ä½œæ¨è¿›1å¤©
    newState.day += 1;
    
    newState.workOrders += 1;
    newState.totalCost += channel.cost;
    
    // è®¡ç®—æš´éœ²é£é™© - é™ä½éš¾åº¦
    let exposureRiskIncrease = channel.anonymous && isAnonymous ? 2 : channel.anonymous ? 3 : 6;
    if (newState.difficulty === 'easy') exposureRiskIncrease *= 0.5;
    else if (newState.difficulty === 'hard') exposureRiskIncrease *= 0.8;
    
    // éæ³•æ‰‹æ®µè·å–è¯æ®çš„ç‰¹æ®Šå¤„ç†
    if (evidences.some(e => e.type === 'illegal')) {
      exposureRiskIncrease += 20;
    }
    
    newState.exposureRisk = Math.min(100, newState.exposureRisk + Math.round(exposureRiskIncrease));
    
    // è®¡ç®—å­¦æ ¡å‹åŠ› - æé«˜æ•ˆæœï¼Œé™ä½éš¾åº¦
    let basePressure = Math.floor(power / 2);
    if (newState.difficulty === 'easy') basePressure = Math.floor(basePressure * 1.8);
    else if (newState.difficulty === 'hard') basePressure = Math.floor(basePressure * 1.2);
    
    // è¡¥è¯¾å¼€å§‹å‰3å¤©ä¸¾æŠ¥æˆåŠŸç‡ä¹˜ä»¥2.0
    if (newState.classDetail.startIn - newState.day <= 3 && newState.classDetail.startIn - newState.day >= 0) {
      basePressure = Math.floor(basePressure * 2.0);
    }
    // è¡¥è¯¾å¼€å§‹å‰10å¤©å†…ä¸¾æŠ¥éƒ½æœ‰åŠ æˆ
    else if (newState.classDetail.startIn - newState.day <= 10 && newState.classDetail.startIn - newState.day >= 0) {
      basePressure = Math.floor(basePressure * 1.3);
    }
    
    newState.schoolPressure = Math.min(100, newState.schoolPressure + basePressure);
    
    // è”åä¿¡åŠ å•ç‹¬æˆªå›¾çš„ç‰¹æ®Šå¤„ç† - é™ä½é£é™©
    if (evidences.some(e => e.type === 'petition') && evidences.some(e => e.type === 'screenshot')) {
      newState.exposureRisk = Math.min(100, newState.exposureRisk + 8);
    }

    // ä¸¾æŠ¥æ¸ é“æ•ˆæœ - å¢å¼ºæ•ˆæœ
    if (channelType === 'province_12345') {
      newState.bureauFear = Math.min(100, newState.bureauFear + 15);
    } else if (channelType === 'social_media') {
      newState.bureauFear = Math.min(100, newState.bureauFear + 25);
      newState.exposureRisk = Math.min(100, newState.exposureRisk + 20);
    } else if (channelType === 'discipline_inspection' && Math.random() < 0.3) {
      newState.bureauFear = Math.min(100, newState.bureauFear + 45);
      newState.schoolPressure = Math.min(100, newState.schoolPressure + 35);
    }

    const workOrder: WorkOrder = {
      id: `wo_${Date.now()}`,
      channel: channelType,
      evidences,
      day: newState.day,
      status: 'pending'
    };
    newState.submittedWorkOrders.push(workOrder);

    // ç§»é™¤ç«‹å³ç”Ÿæˆå›å¤çš„é€»è¾‘ï¼Œæ‰€æœ‰ä¸¾æŠ¥éƒ½ä¿æŒpendingçŠ¶æ€
    // å›å¤å°†åœ¨åç»­çš„æ¸¸æˆè¿›ç¨‹ä¸­æ ¹æ®éšæœºå¤©æ•°å¤„ç†

    // éšæœºäº‹ä»¶è§¦å‘
    let newEvent: GameEvent | undefined;
    const eventProbability = newState.difficulty === 'easy' ? 0.1 : (newState.difficulty === 'hard' ? 0.25 : 0.18);
    if (Math.random() < eventProbability) {
      newEvent = RANDOM_EVENTS[Math.floor(Math.random() * RANDOM_EVENTS.length)];
      newState.gameEvents.push(newEvent);
      
      if (newEvent.effects.schoolPressure) {
        newState.schoolPressure = Math.min(100, Math.max(0, newState.schoolPressure + newEvent.effects.schoolPressure));
      }
      if (newEvent.effects.bureauFear) {
        newState.bureauFear = Math.min(100, Math.max(0, newState.bureauFear + newEvent.effects.bureauFear));
      }
      if (newEvent.effects.exposureRisk) {
        newState.exposureRisk = Math.min(100, Math.max(0, newState.exposureRisk + newEvent.effects.exposureRisk));
      }
      if (newEvent.effects.workOrders) {
        newState.workOrders += newEvent.effects.workOrders;
      }
    }

    setGameState(newState);

    const endResult = checkGameEnd(newState);
    if (endResult) {
      setGameEnd(endResult);
      newState.gamePhase = 'ended';
    }

    return {
      success: true,
      description: `é€šè¿‡${channel.name}æäº¤ä¸¾æŠ¥ï¼Œä½¿ç”¨äº†${evidences.length}ä»½è¯æ®`,
      feedback: 'ç­‰å¾…å›å¤ä¸­...',
      changes: {
        workOrders: 1,
        cost: channel.cost,
        exposureRisk: Math.round(exposureRiskIncrease),
        schoolPressure: basePressure,
        bureauFear: channelType === 'province_12345' ? 10 : (channelType === 'social_media' ? 20 : 0)
      },
      newEvent
    };
  }, [gameState, checkGameEnd]);



  const getStatusText = useCallback((value: number, type: 'exposure' | 'pressure' | 'fear') => {
    if (type === 'exposure') {
      if (value <= 30) return 'ä½';
      if (value <= 50) return 'ä¸­';
      if (value <= 80) return 'é«˜';
      return 'æé«˜';
    }
    if (type === 'pressure') {
      if (value < 30) return 'ä½';
      if (value < 60) return 'ä¸­';
      if (value < 85) return 'é«˜';
      return 'æé«˜';
    }
    if (type === 'fear') {
      if (value < 30) return 'ä½';
      if (value < 60) return 'ä¸­';
      if (value < 80) return 'é«˜';
      return 'æé«˜';
    }
    return 'æœªçŸ¥';
  }, []);

  const getAvailableActions = useCallback(() => {
    if (!gameState) return [];
    
    return [
      {
        type: 'evidence' as const,
        name: 'æ”¶é›†è¯æ®',
        description: 'è·å–æ–°çš„è¯æ®ææ–™',
        options: Object.values(EVIDENCE_LIBRARY).filter(e => 
          !gameState.collectedEvidences.some(ce => ce.id === e.id)
        )
      },
      {
        type: 'report' as const,
        name: 'æäº¤ä¸¾æŠ¥',
        description: 'é€šè¿‡å®˜æ–¹æ¸ é“ä¸¾æŠ¥',
        options: Object.values(CHANNELS)
      },
      {
        type: 'wait' as const,
        name: 'ç­‰å¾…ä¸€å¤©',
        description: 'è·³è¿‡åˆ°æ˜å¤©',
        options: []
      }
    ];
  }, [gameState]);

  // æ£€æŸ¥ä¸¥æ ¼ç¦æ­¢å†…å®¹
  const checkForbiddenContent = useCallback((input: string): { forbidden: boolean; message: string } => {
    // ç¦æ­¢ä¿®æ”¹æ•°å€¼
    const modifyValuePatterns = [
      /æˆåŠŸç‡æ”¹æˆ100%/, /è®©æˆ‘éšèº«/, /æ•™è‚²å±€å¿…é¡»å¬æˆ‘çš„/, /ä¿®æ”¹æ•°å€¼/, /è°ƒæ•´æ•°å€¼/, /ä½œå¼Š/
    ];
    
    // ç¦æ­¢è¿æ³•è¡Œä¸º
    const illegalActionPatterns = [
      /é»‘è¿›æ•™è‚²å±€ç³»ç»Ÿ/, /ä¼ªé€ çœé•¿æ‰¹ç¤º/, /å¨èƒæ ¡é•¿å®¶äºº/, /é»‘å®¢/, /ä¼ªé€ /, /å¨èƒ/, /è¿æ³•/
    ];
    
    // ç¦æ­¢è·³è¿‡è¿‡ç¨‹
    const skipProcessPatterns = [
      /ç›´æ¥èƒœåˆ©/, /è·³è¿‡è¿‡ç¨‹/, /å¿«é€Ÿç»“æŸ/, /ç«‹å³æˆåŠŸ/
    ];
    
    // æ£€æŸ¥æ˜¯å¦åŒ…å«ç¦æ­¢å†…å®¹
    for (const pattern of modifyValuePatterns) {
      if (pattern.test(input)) {
        return {
          forbidden: true,
          message: 'ç³»ç»Ÿæ£€æµ‹åˆ°éæ³•æŒ‡ä»¤ï¼Œæ­¤æ“ä½œä¸ç¬¦åˆç°å®é€»è¾‘ï¼Œè¯·é€šè¿‡åˆæ³•é€”å¾„æ¨è¿›æ¸¸æˆã€‚'
        };
      }
    }
    
    for (const pattern of illegalActionPatterns) {
      if (pattern.test(input)) {
        return {
          forbidden: true,
          message: 'æ­¤è¡Œä¸ºæ¶‰å«Œè¿æ³•ï¼Œæ¸¸æˆä¸æ”¯æŒã€‚è‹¥ç°å®ä¸­é‡åˆ°æ­¤ç±»æƒ…å†µï¼Œè¯·ç«‹å³å‘å…¬å®‰æœºå…³æŠ¥æ¡ˆã€‚'
        };
      }
    }
    
    for (const pattern of skipProcessPatterns) {
      if (pattern.test(input)) {
        return {
          forbidden: true,
          message: 'ç³»ç»Ÿæ£€æµ‹åˆ°éæ³•æŒ‡ä»¤ï¼Œæ­¤æ“ä½œä¸ç¬¦åˆç°å®é€»è¾‘ï¼Œè¯·é€šè¿‡åˆæ³•é€”å¾„æ¨è¿›æ¸¸æˆã€‚'
        };
      }
    }
    
    return { forbidden: false, message: '' };
  }, []);

  // è·å–ç­–ç•¥æç¤º
  const getStrategyTips = useCallback(() => {
    if (!gameState) {
      return [];
    }

    const tips: string[] = [];
    const { schoolPressure, exposureRisk, bureauFear, day, classDetail, collectedEvidences, workOrders } = gameState;
    
    // è¯æ®æ”¶é›†æç¤º
    if (collectedEvidences.length < 3) {
      tips.push('å»ºè®®æ”¶é›†æ›´å¤šè¯æ®ï¼Œè‡³å°‘3ä»½ä¸åŒç±»å‹çš„è¯æ®ä»¥æé«˜ä¸¾æŠ¥æ•ˆæœ');
    }
    
    if (collectedEvidences.length >= 3) {
      const highPowerEvidence = collectedEvidences.filter(e => e.power >= 7).length;
      if (highPowerEvidence < 1) {
        tips.push('å»ºè®®æ”¶é›†é«˜è¯´æœåŠ›çš„è¯æ®ï¼Œå¦‚å½•éŸ³æˆ–æ”¶è´¹æ”¶æ®');
      }
    }
    
    // æš´éœ²é£é™©æç¤º
    if (exposureRisk >= 60) {
      tips.push('æš´éœ²é£é™©è¾ƒé«˜ï¼Œå»ºè®®ä½¿ç”¨åŒ¿åä¸¾æŠ¥æ¸ é“');
    }
    
    if (exposureRisk >= 80) {
      tips.push('æš´éœ²é£é™©å¾ˆé«˜ï¼Œå»ºè®®æš‚æ—¶åœæ­¢æ”¶é›†è¯æ®ï¼Œä¸“æ³¨äºä¸¾æŠ¥');
    }
    
    // å­¦æ ¡å‹åŠ›æç¤º
    if (schoolPressure < 30) {
      tips.push('å­¦æ ¡å‹åŠ›è¾ƒä½ï¼Œå»ºè®®å¢åŠ ä¸¾æŠ¥é¢‘ç‡');
    }
    
    if (schoolPressure >= 60) {
      tips.push('å­¦æ ¡å‹åŠ›å·²ç»è¾ƒé«˜ï¼Œç»§ç»­ä¿æŒä¸¾æŠ¥èŠ‚å¥');
    }
    
    // æ•™è‚²å±€å¿Œæƒ®æç¤º
    if (bureauFear < 20) {
      tips.push('æ•™è‚²å±€å¿Œæƒ®å€¼è¾ƒä½ï¼Œå»ºè®®ä½¿ç”¨çœçº§ä»¥ä¸Šæ¸ é“ä¸¾æŠ¥');
    }
    
    // æ—¶é—´æç¤º
    if (classDetail.startIn - day <= 5 && classDetail.startIn - day >= 0) {
      tips.push('è¡¥è¯¾å³å°†å¼€å§‹ï¼Œç°åœ¨ä¸¾æŠ¥æ•ˆæœæœ€ä½³');
    }
    
    if (classDetail.startIn - day <= 10 && classDetail.startIn - day >= 0) {
      tips.push('è¡¥è¯¾å¼€å§‹å‰10å¤©å†…ä¸¾æŠ¥éƒ½æœ‰æ•ˆæœåŠ æˆ');
    }
    
    // ä¸¾æŠ¥æ¬¡æ•°æç¤º
    if (workOrders < 3) {
      tips.push('å»ºè®®å¤šä½¿ç”¨ä¸åŒæ¸ é“ä¸¾æŠ¥ï¼Œå½¢æˆåˆåŠ›');
    }
    
    // éšæœºäº‹ä»¶æç¤º
    if (day % 5 === 0) {
      tips.push('æ³¨æ„éšæœºäº‹ä»¶çš„è§¦å‘ï¼Œå¯èƒ½ä¼šå¸¦æ¥æ„å¤–çš„æœºä¼š');
    }
    
    // æœ€å¤šè¿”å›5ä¸ªæç¤º
    return tips.slice(0, 5);
  }, [gameState]);

  // è·å–æ–°æ‰‹æ•™ç¨‹
  const getNewbieGuide = useCallback(() => {
    return [
      'æ¸¸æˆç›®æ ‡ï¼šé€šè¿‡æ”¶é›†è¯æ®å’Œä¸¾æŠ¥ï¼Œé˜»æ­¢å­¦æ ¡çš„è¿è§„è¡¥è¯¾è¡Œä¸º',
      'è¯æ®æ”¶é›†ï¼šæ”¶é›†ä¸åŒç±»å‹çš„è¯æ®ï¼Œæé«˜ä¸¾æŠ¥çš„è¯´æœåŠ›',
      'ä¸¾æŠ¥æ¸ é“ï¼šä½¿ç”¨ä¸åŒçš„ä¸¾æŠ¥æ¸ é“ï¼Œå¦‚12345ã€æ•™è‚²å±€å®˜ç½‘ç­‰',
      'æš´éœ²é£é™©ï¼šæ³¨æ„ä¿æŠ¤è‡ªå·±ï¼Œé¿å…æš´éœ²é£é™©è¿‡é«˜',
      'å­¦æ ¡å‹åŠ›ï¼šé€šè¿‡æŒç»­ä¸¾æŠ¥å¢åŠ å­¦æ ¡å‹åŠ›ï¼Œè¾¾åˆ°85ä»¥ä¸Šå¯èƒ½æˆåŠŸ',
      'éšæœºäº‹ä»¶ï¼šæ³¨æ„éšæœºäº‹ä»¶ï¼Œå¯èƒ½å¸¦æ¥æœºä¼šæˆ–æŒ‘æˆ˜',
      'éš¾åº¦é€‰æ‹©ï¼šç®€å•æ¨¡å¼1æ¬¡ä¸¾æŠ¥å³å¯æˆåŠŸï¼Œå›°éš¾æ¨¡å¼éœ€è¦9æ¬¡',
      'ç­–ç•¥å»ºè®®ï¼šè¡¥è¯¾å¼€å§‹å‰ä¸¾æŠ¥æ•ˆæœæœ€ä½³ï¼Œå¤šæ”¶é›†é«˜è¯´æœåŠ›è¯æ®',
      'AIè¾…åŠ©ï¼šå¼€å¯AIè¾…åŠ©åŠŸèƒ½å¯ä»¥è·å¾—ç­–ç•¥å»ºè®®å’ŒæŒ‡å¯¼'
    ];
  }, []);

  // ç­‰å¾…ä¸€å¤©
  const waitOneDay = useCallback((): ActionResult => {
    if (!gameState) {
      return { success: false, description: 'æ¸¸æˆæœªå¼€å§‹', changes: {} };
    }

    const newState = { ...gameState };
    newState.day += 1;
    
    // æ£€æŸ¥å¹¶å¤„ç†è¾¾åˆ°å›å¤å¤©æ•°çš„å·¥å•
    newState.submittedWorkOrders.forEach(wo => {
      if (wo.status === 'pending') {
        const channel = CHANNELS[wo.channel];
        // æ·»åŠ 1-3å¤©çš„éšæœºå»¶è¿Ÿ
        const randomDelay = Math.floor(Math.random() * 3) + 1;
        const replyDay = wo.day + channel.replyDays + randomDelay;
        
        if (newState.day >= replyDay) {
          const reply = generateReply(newState, wo.channel);
          wo.reply = reply;
          wo.status = 'replied';
          
          if (reply.template === 'compromise') {
            newState.schoolPressure = Math.min(100, newState.schoolPressure + 20);
          } else if (reply.template === 'deny_hard') {
            newState.bureauFear = Math.max(0, newState.bureauFear - 5);
          }
        }
      }
    });

    setGameState(newState);

    const endResult = checkGameEnd(newState);
    if (endResult) {
      setGameEnd(endResult);
      newState.gamePhase = 'ended';
    }

    return {
      success: true,
      description: 'ç­‰å¾…ä¸€å¤©ï¼Œæ—¶é—´æµé€åˆ°æ˜å¤©',
      feedback: `ç°åœ¨æ˜¯ç¬¬${newState.day}å¤©`,
      changes: {},
      newEvent: undefined
    };
  }, [gameState, generateReply, checkGameEnd]);

  // AIè¾…åŠ©ç³»ç»Ÿï¼šè·å–å½“å‰æœ€ä½³ç­–ç•¥å»ºè®®
  const getAIStrategyAdvice = useCallback((state: GameState): string[] => {
    if (!state.enableAI) {
      return [];
    }

    const advices: string[] = [];
    
    // æ ¹æ®æ¸¸æˆé˜¶æ®µæä¾›å»ºè®®
    if (state.day <= 3) {
      advices.push(AI_ADVICE_CONFIG.strategy.early);
    } else if (state.day <= 10) {
      advices.push(AI_ADVICE_CONFIG.strategy.mid);
    } else {
      advices.push(AI_ADVICE_CONFIG.strategy.late);
    }
    
    // åŸºäºå½“å‰çŠ¶æ€çš„å…·ä½“å»ºè®®
    if (state.exposureRisk > 70) {
      advices.push('å½“å‰æš´éœ²é£é™©è¿‡é«˜ï¼Œå»ºè®®é‡‡å–ä½é£é™©è¡ŒåŠ¨ï¼Œé¿å…è¿›ä¸€æ­¥æš´éœ²');
    }
    
    if (state.schoolPressure < 30) {
      advices.push('å­¦æ ¡å‹åŠ›è¿‡ä½ï¼Œå»ºè®®å¢åŠ ä¸¾æŠ¥é¢‘ç‡ï¼Œæé«˜å‹åŠ›å€¼');
    }
    
    if (state.schoolPressure > 60) {
      advices.push('å­¦æ ¡å‹åŠ›å·²è¾¾åˆ°è¾ƒé«˜æ°´å¹³ï¼Œå»ºè®®ä½¿ç”¨æƒå¨æ¸ é“è¿›è¡Œæœ€ç»ˆä¸¾æŠ¥');
    }
    
    if (state.collectedEvidences.length < 3) {
      advices.push('è¯æ®æ•°é‡ä¸è¶³ï¼Œå»ºè®®ä¼˜å…ˆæ”¶é›†æ›´å¤šç±»å‹çš„è¯æ®');
    }
    
    // åŸºäºè¡¥è¯¾æ—¶é—´çš„å»ºè®®
    const daysUntilStart = state.classDetail.startIn - state.day;
    if (daysUntilStart > 0 && daysUntilStart <= 3) {
      advices.push('è¡¥è¯¾å³å°†å¼€å§‹ï¼Œç°åœ¨æ˜¯ä¸¾æŠ¥çš„æœ€ä½³æ—¶æœºï¼ŒæˆåŠŸç‡å¤§å¹…æå‡');
    }
    
    if (state.classDetail.startIn - state.day <= 0) {
      advices.push('è¡¥è¯¾å·²ç»å¼€å§‹ï¼Œå»ºè®®åŠ å¿«ä¸¾æŠ¥èŠ‚å¥ï¼Œå°½å¿«è§£å†³é—®é¢˜');
    }
    
    // åŸºäºè¯æ®çš„å»ºè®®
    if (state.collectedEvidences.length > 0) {
      const evidenceTypes = new Set(state.collectedEvidences.map(e => e.type));
      if (!evidenceTypes.has('receipt') && !evidenceTypes.has('recording')) {
        advices.push('å»ºè®®æ”¶é›†æ”¶è´¹æ”¶æ®/è½¬è´¦è®°å½•æˆ–å½•éŸ³ç­‰é«˜è´¨é‡è¯æ®ï¼Œæé«˜ä¸¾æŠ¥æˆåŠŸç‡');
      }
    }
    
    // åŸºäºä¸¾æŠ¥æ¸ é“çš„å»ºè®®
    const channelUsage = state.submittedWorkOrders.reduce((acc, order) => {
      acc[order.channel] = (acc[order.channel] || 0) + 1;
      return acc;
    }, {} as Record<ChannelType, number>);
    
    if (Object.keys(channelUsage).length < 2) {
      advices.push('å»ºè®®ä½¿ç”¨å¤šç§ä¸¾æŠ¥æ¸ é“ï¼Œå½¢æˆç«‹ä½“ä¸¾æŠ¥ç½‘ç»œ');
    }
    
    return advices;
  }, []);

  // AIè¾…åŠ©ç³»ç»Ÿï¼šè·å–æœ€ä½³è¯æ®æ”¶é›†å»ºè®®
  const getAIEvidenceAdvice = useCallback((state: GameState): string[] => {
    if (!state.enableAI) {
      return [];
    }

    const advices: string[] = [];
    const collectedTypes = new Set(state.collectedEvidences.map(e => e.type));
    const availableTypes = Object.keys(EVIDENCE_LIBRARY).filter(type => !collectedTypes.has(type as EvidenceType));
    
    if (availableTypes.length > 0) {
      // æ¨èä¼˜å…ˆçº§ï¼šé«˜è¯´æœåŠ›ã€ä½é£é™©
      const recommendedTypes = [...availableTypes].sort((a, b) => {
        const evA = EVIDENCE_LIBRARY[a as EvidenceType];
        const evB = EVIDENCE_LIBRARY[b as EvidenceType];
        return (evB.power - evB.risk) - (evA.power - evA.risk);
      });
      
      if (recommendedTypes.length > 0) {
        const topEvidence = EVIDENCE_LIBRARY[recommendedTypes[0] as EvidenceType];
        advices.push(`æ¨èæ”¶é›†ï¼š${topEvidence.name} - ${AI_ADVICE_CONFIG.evidence[recommendedTypes[0] as keyof typeof AI_ADVICE_CONFIG.evidence]}`);
      }
    }
    
    return advices;
  }, []);

  // AIè¾…åŠ©ç³»ç»Ÿï¼šè·å–æœ€ä½³ä¸¾æŠ¥æ¸ é“å»ºè®®
  const getAIChannelAdvice = useCallback((state: GameState): string[] => {
    if (!state.enableAI) {
      return [];
    }

    const advices: string[] = [];
    
    // åŸºäºå½“å‰çŠ¶æ€æ¨èæ¸ é“
    if (state.schoolPressure < 30) {
      advices.push(`åˆæœŸæ¨èæ¸ é“ï¼š12345å¾®ä¿¡å°ç¨‹åº - ${AI_ADVICE_CONFIG.channel.web_12345}`);
    } else if (state.schoolPressure < 60) {
      advices.push(`ä¸­æœŸæ¨èæ¸ é“ï¼šçœ12345 - ${AI_ADVICE_CONFIG.channel.province_12345}`);
    } else {
      advices.push(`åæœŸæ¨èæ¸ é“ï¼šå›½åŠ¡é™¢äº’è”ç½‘+ç£æŸ¥ - ${AI_ADVICE_CONFIG.channel.state_council}`);
    }
    
    return advices;
  }, []);

  return {
    gameState,
    gameEnd,
    initializeGame,
    collectEvidence,
    submitReport,
    waitOneDay,
    getStatusText,
    getAIStrategyAdvice,
    getAIEvidenceAdvice,
    getAIChannelAdvice,
    getAvailableActions,
    checkForbiddenContent,
    getStrategyTips,
    getNewbieGuide,
    EVIDENCE_LIBRARY,
    CHANNELS
  };
}
